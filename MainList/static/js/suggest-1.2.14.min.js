/*! suggest - v1.2.14 - 2017-11-22
* Copyright (c) 2017 FT, DK Techin Corp */

(function(){var e,t,n,a,i,s,o,r;n=function(e){return window.document.createElement(e)},a=window.encodeURIComponent,o=Math.random,e=function(e){var a,s,o,c,u;if(e=e||{},c={data:e.data||{},error:e.error||i,success:e.success||i,beforeSend:e.beforeSend||i,complete:e.complete||i,url:e.url||""},c.computedUrl=t(c),0===c.url.length)throw new Error("MissingUrl");return s=!1,!1!==c.beforeSend({},c)?(a=c.data[e.callbackName||"callback"]="jsonp_"+r(15),window[a]=function(e){c.success(e,c),c.complete(e,c);try{return delete window[a]}catch(t){return void(window[a]=void 0)}},u=n("script"),u.src=t(c),u.async=!0,u.onerror=function(e){return c.error({url:u.src,event:e}),c.complete({url:u.src,event:e},c)},u.onload=u.onreadystatechange=function(){return s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState?void 0:(s=!0,u.onload=u.onreadystatechange=null,u&&u.parentNode&&u.parentNode.removeChild(u),u=null)},(o=o||window.document.getElementsByTagName("head")[0]||window.document.documentElement).insertBefore(u,o.firstChild)):void 0},i=function(){},t=function(e){var t;return t=e.url,t+=e.url.indexOf("?")<0?"?":"&",t+=s(e.data)},r=function(e){var t;for(t="";t.length<e;)t+=o().toString(36)[2];return t},s=function(e){var t,n,i;t=[];for(n in e)i=e[n],t.push(a(n)+"="+a(i));return t.join("&")},"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=e:this.JSONP=e}).call(this),function(e,t){"use strict";var n=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,a){return 1===arguments.length?t.get(e):t.set(e,n,a)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var n=t._cache[t._cacheKeyPrefix+e];return void 0===n?void 0:decodeURIComponent(n)},t.set=function(e,n,a){return a=t._getExtendedOptions(a),a.expires=t._getExpiresDate(void 0===n?-1:a.expires),t._document.cookie=t._generateCookieString(e,n,a),t},t.expire=function(e,n){return t.set(e,void 0,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&void 0!==e.secure?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===Infinity?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var a=e+"="+t;return a+=n.path?";path="+n.path:"",a+=n.domain?";domain="+n.domain:"",a+=n.expires?";expires="+n.expires.toUTCString():"",a+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},a=e?e.split("; "):[],i=0;i<a.length;i++){var s=t._getKeyValuePairFromCookieString(a[i]);void 0===n[t._cacheKeyPrefix+s.key]&&(n[t._cacheKeyPrefix+s.key]=s.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,a=e.substr(0,t);try{n=decodeURIComponent(a)}catch(i){console&&console.error}return{key:n,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="1"===t.set("cookies.js",1).get("cookies.js");return t.expire("cookies.js"),e},t.enabled=t._areEnabled(),t},a=e&&"object"==typeof e.document?n(e):n;"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=a),exports.Cookies=a):e.Cookies=a}("undefined"==typeof window?this:window),function(e){var t=this||(0,eval)("this"),n=t.document,a=t.navigator,i=t.jQuery,s=t.JSON;!function(e){"function"==typeof define&&define.amd?define(["exports","require"],e):e("function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports||exports:t.ko={})}(function(o,r){function c(e,t){return(null===e||typeof e in p)&&e===t}function u(t,n){var a;return function(){a||(a=setTimeout(function(){a=e,t()},n))}}function l(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function d(e,t,n,a){f.d[e]={init:function(e,i,s,o,r){var c,u;return f.w(function(){var s=f.a.c(i()),o=!n!=!s,l=!u;(l||t||o!==c)&&(l&&f.Z.oa()&&(u=f.a.la(f.e.childNodes(e),!0)),o?(l||f.e.T(e,f.a.la(u)),f.Ja(a?a(r,s):r,e)):f.e.ma(e),c=o)},null,{q:e}),{controlsDescendantBindings:!0}}},f.h.ka[e]=!1,f.e.R[e]=!0}var f=void 0!==o?o:{};f.b=function(e,t){for(var n=e.split("."),a=f,i=0;i<n.length-1;i++)a=a[n[i]];a[n[n.length-1]]=t},f.D=function(e,t,n){e[t]=n},f.version="3.3.0",f.b("version",f.version),f.a=function(){function o(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function r(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(e,t){return e.__proto__=t,e}function u(e,t,n,a){var i=e[t].match(g)||[];f.a.o(n.match(g),function(e){f.a.ga(i,e,a)}),e[t]=i.join(" ")}var l={__proto__:[]}instanceof Array,d={},p={};d[a&&/Firefox\/2/i.test(a.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],d.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(d,function(e,t){if(t.length)for(var n=0,a=t.length;n<a;n++)p[t[n]]=e});var h={propertychange:!0},m=n&&function(){for(var t=3,a=n.createElement("div"),i=a.getElementsByTagName("i");a.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",i[0];);return 4<t?t:e}(),g=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(e,t){for(var n=0,a=e.length;n<a;n++)t(e[n],n)},m:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},vb:function(e,t,n){for(var a=0,i=e.length;a<i;a++)if(t.call(n,e[a],a))return e[a];return null},ya:function(e,t){var n=f.a.m(e,t);0<n?e.splice(n,1):0===n&&e.shift()},wb:function(e){e=e||[];for(var t=[],n=0,a=e.length;n<a;n++)0>f.a.m(t,e[n])&&t.push(e[n]);return t},Ka:function(e,t){e=e||[];for(var n=[],a=0,i=e.length;a<i;a++)n.push(t(e[a],a));return n},xa:function(e,t){e=e||[];for(var n=[],a=0,i=e.length;a<i;a++)t(e[a],a)&&n.push(e[a]);return n},ia:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,a=t.length;n<a;n++)e.push(t[n]);return e},ga:function(e,t,n){var a=f.a.m(f.a.cb(e),t);0>a?n&&e.push(t):n||e.splice(a,1)},za:l,extend:r,Fa:c,Ga:l?c:r,A:o,pa:function(e,t){if(!e)return e;var n,a={};for(n in e)e.hasOwnProperty(n)&&(a[n]=t(e[n],n,e));return a},Ra:function(e){for(;e.firstChild;)f.removeNode(e.firstChild)},Jb:function(e){e=f.a.O(e);for(var t=(e[0]&&e[0].ownerDocument||n).createElement("div"),a=0,i=e.length;a<i;a++)t.appendChild(f.S(e[a]));return t},la:function(e,t){for(var n=0,a=e.length,i=[];n<a;n++){var s=e[n].cloneNode(!0);i.push(t?f.S(s):s)}return i},T:function(e,t){if(f.a.Ra(e),t)for(var n=0,a=t.length;n<a;n++)e.appendChild(t[n])},Qb:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var a=n[0],i=a.parentNode,s=0,o=t.length;s<o;s++)i.insertBefore(t[s],a);for(s=0,o=n.length;s<o;s++)f.removeNode(n[s])}},na:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);if(1<e.length){var n=e[0],a=e[e.length-1];for(e.length=0;n!==a;)if(e.push(n),!(n=n.nextSibling))return;e.push(a)}}return e},Sb:function(e,t){7>m?e.setAttribute("selected",t):e.selected=t},ib:function(t){return null===t||t===e?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},jc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Qa:function(e){return f.a.jc(e,e.ownerDocument.documentElement)},tb:function(e){return!!f.a.vb(e,f.a.Qa)},v:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(e,t,n){var a=m&&h[t];if(!a&&i)i(e).bind(t,n);else if(a||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var s=function(t){n.call(e,t)},o="on"+t;e.attachEvent(o,s),f.a.C.fa(e,function(){e.detachEvent(o,s)})}else e.addEventListener(t,n,!1)},qa:function(e,a){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var s;if("input"===f.a.v(e)&&e.type&&"click"==a.toLowerCase()?(s=e.type,s="checkbox"==s||"radio"==s):s=!1,i&&!s)i(e).trigger(a);else if("function"==typeof n.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(s=n.createEvent(p[a]||"HTMLEvents")).initEvent(a,!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(s)}else if(s&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+a)}},c:function(e){return f.F(e)?e():e},cb:function(e){return f.F(e)?e.B():e},Ia:function(e,t,n){var a;t&&("object"==typeof e.classList?(a=e.classList[n?"add":"remove"],f.a.o(t.match(g),function(t){a.call(e.classList,t)})):"string"==typeof e.className.baseVal?u(e.className,"baseVal",t,n):u(e,"className",t,n))},Ha:function(t,n){var a=f.a.c(n);null!==a&&a!==e||(a="");var i=f.e.firstChild(t);!i||3!=i.nodeType||f.e.nextSibling(i)?f.e.T(t,[t.ownerDocument.createTextNode(a)]):i.data=a,f.a.mc(t)},Rb:function(e,t){if(e.name=t,7>=m)try{e.mergeAttributes(n.createElement("<input name='"+e.name+"'/>"),!1)}catch(c){}},mc:function(e){9<=m&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},kc:function(e){if(m){var t=e.style.width;e.style.width=0,e.style.width=t}},Bc:function(e,t){e=f.a.c(e),t=f.a.c(t);for(var n=[],a=e;a<=t;a++)n.push(a);return n},O:function(e){for(var t=[],n=0,a=e.length;n<a;n++)t.push(e[n]);return t},Hc:6===m,Ic:7===m,M:m,Db:function(e,t){for(var n=f.a.O(e.getElementsByTagName("input")).concat(f.a.O(e.getElementsByTagName("textarea"))),a="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],s=n.length-1;0<=s;s--)a(n[s])&&i.push(n[s]);return i},yc:function(e){return"string"==typeof e&&(e=f.a.ib(e))?s&&s.parse?s.parse(e):new Function("return "+e)():null},jb:function(e,t,n){if(!s||!s.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return s.stringify(f.a.c(e),t,n)},zc:function(e,t,a){a=a||{};var i=a.params||{},s=a.includeFields||this.Bb,r=e;if("object"==typeof e&&"form"===f.a.v(e))for(var r=e.action,c=s.length-1;0<=c;c--)for(var u=f.a.Db(e,s[c]),l=u.length-1;0<=l;l--)i[u[l].name]=u[l].value;t=f.a.c(t);var d=n.createElement("form");d.style.display="none",d.action=r,d.method="post";for(var p in t)e=n.createElement("input"),e.type="hidden",e.name=p,e.value=f.a.jb(f.a.c(t[p])),d.appendChild(e);o(i,function(e,t){var a=n.createElement("input");a.type="hidden",a.name=e,a.value=t,d.appendChild(a)}),n.body.appendChild(d),a.submitter?a.submitter(d):d.submit(),setTimeout(function(){d.parentNode.removeChild(d)},0)}}}(),f.b("utils",f.a),f.b("utils.arrayForEach",f.a.o),f.b("utils.arrayFirst",f.a.vb),f.b("utils.arrayFilter",f.a.xa),f.b("utils.arrayGetDistinctValues",f.a.wb),f.b("utils.arrayIndexOf",f.a.m),f.b("utils.arrayMap",f.a.Ka),f.b("utils.arrayPushAll",f.a.ia),f.b("utils.arrayRemoveItem",f.a.ya),f.b("utils.extend",f.a.extend),f.b("utils.fieldsIncludedWithJsonPost",f.a.Bb),f.b("utils.getFormFields",f.a.Db),f.b("utils.peekObservable",f.a.cb),f.b("utils.postJson",f.a.zc),f.b("utils.parseJson",f.a.yc),f.b("utils.registerEventHandler",f.a.n),f.b("utils.stringifyJson",f.a.jb),f.b("utils.range",f.a.Bc),f.b("utils.toggleDomNodeCssClass",f.a.Ia),f.b("utils.triggerEvent",f.a.qa),f.b("utils.unwrapObservable",f.a.c),f.b("utils.objectForEach",f.a.A),f.b("utils.addOrRemoveItem",f.a.ga),f.b("utils.setTextContent",f.a.Ha),f.b("unwrap",f.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var a=n.slice(0);return a.push.apply(a,arguments),t.apply(e,a)}}),f.a.f=new function(){function t(t,s){var o=t[a];if(!o||"null"===o||!i[o]){if(!s)return e;o=t[a]="ko"+n++,i[o]={}}return i[o]}var n=0,a="__ko__"+(new Date).getTime(),i={};return{get:function(n,a){var i=t(n,!1);return i===e?e:i[a]},set:function(n,a,i){i===e&&t(n,!1)===e||(t(n,!0)[a]=i)},clear:function(e){var t=e[a];return!!t&&(delete i[t],e[a]=null,!0)},I:function(){return n+++a}}},f.b("utils.domData",f.a.f),f.b("utils.domData.clear",f.a.f.clear),f.a.C=new function(){function t(t,n){var i=f.a.f.get(t,a);return i===e&&n&&(i=[],f.a.f.set(t,a,i)),i}function n(e){a=t(e,!1);if(a)for(var a=a.slice(0),i=0;i<a.length;i++)a[i](e);if(f.a.f.clear(e),f.a.C.cleanExternalData(e),o[e.nodeType])for(a=e.firstChild;e=a;)a=e.nextSibling,8===e.nodeType&&n(e)}var a=f.a.f.I(),s={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{fa:function(e,n){if("function"!=typeof n)throw Error("Callback must be a function");t(e,!0).push(n)},Pb:function(n,i){var s=t(n,!1);s&&(f.a.ya(s,i),0==s.length&&f.a.f.set(n,a,e))},S:function(e){if(s[e.nodeType]&&(n(e),o[e.nodeType])){var t=[];f.a.ia(t,e.getElementsByTagName("*"));for(var a=0,i=t.length;a<i;a++)n(t[a])}return e},removeNode:function(e){f.S(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){i&&"function"==typeof i.cleanData&&i.cleanData([e])}}},f.S=f.a.C.S,f.removeNode=f.a.C.removeNode,f.b("cleanNode",f.S),f.b("removeNode",f.removeNode),f.b("utils.domNodeDisposal",f.a.C),f.b("utils.domNodeDisposal.addDisposeCallback",f.a.C.fa),f.b("utils.domNodeDisposal.removeDisposeCallback",f.a.C.Pb),f.a.ca=function(e,a){var s;if(i){if(i.parseHTML)s=i.parseHTML(e,a)||[];else if((s=i.clean([e],a))&&s[0]){for(r=s[0];r.parentNode&&11!==r.parentNode.nodeType;)r=r.parentNode;r.parentNode&&r.parentNode.removeChild(r)}}else{(r=a)||(r=n),s=r.parentWindow||r.defaultView||t;var o=f.a.ib(e).toLowerCase(),r=r.createElement("div"),o=o.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!o.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!o.indexOf("<td")||!o.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],c="ignored<div>"+o[1]+e+o[2]+"</div>";for("function"==typeof s.innerShiv?r.appendChild(s.innerShiv(c)):r.innerHTML=c;o[0]--;)r=r.lastChild;s=f.a.O(r.lastChild.childNodes)}return s},f.a.gb=function(t,n){if(f.a.Ra(t),null!==(n=f.a.c(n))&&n!==e)if("string"!=typeof n&&(n=n.toString()),i)i(t).html(n);else for(var a=f.a.ca(n,t.ownerDocument),s=0;s<a.length;s++)t.appendChild(a[s])},f.b("utils.parseHtmlFragment",f.a.ca),f.b("utils.setHtml",f.a.gb),f.H=function(){function t(e,n){if(e)if(8==e.nodeType){a=f.H.Lb(e.nodeValue);null!=a&&n.push({ic:e,wc:a})}else if(1==e.nodeType)for(var a=0,i=e.childNodes,s=i.length;a<s;a++)t(i[a],n)}var n={};return{$a:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},Wb:function(t,a){var i=n[t];if(i===e)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return i.apply(null,a||[]),!0}finally{delete n[t]}},Xb:function(e,n){var a=[];t(e,a);for(var i=0,s=a.length;i<s;i++){var o=a[i].ic,r=[o];n&&f.a.ia(r,n),f.H.Wb(a[i].wc,r),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Lb:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),f.b("memoization",f.H),f.b("memoization.memoize",f.H.$a),f.b("memoization.unmemoize",f.H.Wb),f.b("memoization.parseMemoText",f.H.Lb),f.b("memoization.unmemoizeDomNodeAndDescendants",f.H.Xb),f.Sa={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return f.j({read:e,write:function(a){clearTimeout(n),n=setTimeout(function(){e(a)},t)}})},rateLimit:function(e,t){var n,a,i;"number"==typeof t?n=t:(n=t.timeout,a=t.method),i="notifyWhenChangesStop"==a?l:u,e.Za(function(e){return i(e,n)})},notify:function(e,t){e.equalityComparer="always"==t?null:c}};var p={undefined:1,"boolean":1,number:1,string:1};f.b("extenders",f.Sa),f.Ub=function(e,t,n){this.da=e,this.La=t,this.hc=n,this.Gb=!1,f.D(this,"dispose",this.p)},f.Ub.prototype.p=function(){this.Gb=!0,this.hc()},f.Q=function(){f.a.Ga(this,f.Q.fn),this.G={},this.rb=1};var h={U:function(e,t,n){var a=this;n=n||"change";var i=new f.Ub(a,t?e.bind(t):e,function(){f.a.ya(a.G[n],i),a.ua&&a.ua(n)});return a.ja&&a.ja(n),a.G[n]||(a.G[n]=[]),a.G[n].push(i),i},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.Yb(),this.Ba(t))try{f.k.xb();for(var n,a=this.G[t].slice(0),i=0;n=a[i];++i)n.Gb||n.La(e)}finally{f.k.end()}},Aa:function(){return this.rb},pc:function(e){return this.Aa()!==e},Yb:function(){++this.rb},Za:function(e){var t,n,a,i=this,s=f.F(i);i.ta||(i.ta=i.notifySubscribers,i.notifySubscribers=function(e,t){t&&"change"!==t?"beforeChange"===t?i.pb(e):i.ta(e,t):i.qb(e)});var o=e(function(){s&&a===i&&(a=i()),t=!1,i.Wa(n,a)&&i.ta(n=a)});i.qb=function(e){t=!0,a=e,o()},i.pb=function(e){t||(n=e,i.ta(e,"beforeChange"))}},Ba:function(e){return this.G[e]&&this.G[e].length},nc:function(e){if(e)return this.G[e]&&this.G[e].length||0;var t=0;return f.a.A(this.G,function(e,n){t+=n.length}),t},Wa:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&f.a.A(e,function(e,n){var a=f.Sa[e];"function"==typeof a&&(t=a(t,n)||t)}),t}};f.D(h,"subscribe",h.U),f.D(h,"extend",h.extend),f.D(h,"getSubscriptionsCount",h.nc),f.a.za&&f.a.Fa(h,Function.prototype),f.Q.fn=h,f.Hb=function(e){return null!=e&&"function"==typeof e.U&&"function"==typeof e.notifySubscribers},f.b("subscribable",f.Q),f.b("isSubscribable",f.Hb),f.Z=f.k=function(){function e(e){a.push(n),n=e}function t(){n=a.pop()}var n,a=[],i=0;return{xb:e,end:t,Ob:function(e){if(n){if(!f.Hb(e))throw Error("Only subscribable things can act as dependencies");n.La(e,e.ac||(e.ac=++i))}},u:function(n,a,i){try{return e(),n.apply(a,i||[])}finally{t()}},oa:function(){if(n)return n.w.oa()},Ca:function(){if(n)return n.Ca}}}(),f.b("computedContext",f.Z),f.b("computedContext.getDependenciesCount",f.Z.oa),f.b("computedContext.isInitial",f.Z.Ca),f.b("computedContext.isSleeping",f.Z.Jc),f.b("ignoreDependencies",f.Gc=f.k.u),f.r=function(e){function t(){return 0<arguments.length?(t.Wa(n,arguments[0])&&(t.X(),n=arguments[0],t.W()),this):(f.k.Ob(t),n)}var n=e;return f.Q.call(t),f.a.Ga(t,f.r.fn),t.B=function(){return n},t.W=function(){t.notifySubscribers(n)},t.X=function(){t.notifySubscribers(n,"beforeChange")},f.D(t,"peek",t.B),f.D(t,"valueHasMutated",t.W),f.D(t,"valueWillMutate",t.X),t},f.r.fn={equalityComparer:c};var m=f.r.Ac="__ko_proto__";f.r.fn[m]=f.r,f.a.za&&f.a.Fa(f.r.fn,f.Q.fn),f.Ta=function(t,n){return null!==t&&t!==e&&t[m]!==e&&(t[m]===n||f.Ta(t[m],n))},f.F=function(e){return f.Ta(e,f.r)},f.Da=function(e){return!!("function"==typeof e&&e[m]===f.r||"function"==typeof e&&e[m]===f.j&&e.qc)},f.b("observable",f.r),f.b("isObservable",f.F),f.b("isWriteableObservable",f.Da),f.b("isWritableObservable",f.Da),f.ba=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=f.r(e),f.a.Ga(e,f.ba.fn),e.extend({trackArrayChanges:!0})},f.ba.fn={remove:function(e){for(var t=this.B(),n=[],a="function"!=typeof e||f.F(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var s=t[i];a(s)&&(0===n.length&&this.X(),n.push(s),t.splice(i,1),i--)}return n.length&&this.W(),n},removeAll:function(t){if(t===e){var n=this.B(),a=n.slice(0);return this.X(),n.splice(0,n.length),this.W(),a}return t?this.remove(function(e){return 0<=f.a.m(t,e)}):[]},destroy:function(e){var t=this.B(),n="function"!=typeof e||f.F(e)?function(t){return t===e}:e;this.X();for(var a=t.length-1;0<=a;a--)n(t[a])&&(t[a]._destroy=!0);this.W()},destroyAll:function(t){return t===e?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=f.a.m(t,e)}):[]},indexOf:function(e){var t=this();return f.a.m(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.X(),this.B()[n]=t,this.W())}},f.a.o("pop push reverse shift sort splice unshift".split(" "),function(e){f.ba.fn[e]=function(){var t=this.B();return this.X(),this.yb(t,e,arguments),t=t[e].apply(t,arguments),this.W(),t}}),f.a.o(["slice"],function(e){f.ba.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),f.a.za&&f.a.Fa(f.ba.fn,f.r.fn),f.b("observableArray",f.ba),f.Sa.trackArrayChanges=function(e){function t(){if(!a){a=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&"change"!==n||++s,t.apply(this,arguments)};var o=[].concat(e.B()||[]);i=null,n=e.U(function(t){if(t=[].concat(t||[]),e.Ba("arrayChange")){var n;(!i||1<s)&&(i=f.a.Ma(o,t,{sparse:!0})),n=i}o=t,i=null,s=0,n&&n.length&&e.notifySubscribers(n,"arrayChange")})}}if(!e.yb){var n,a=!1,i=null,s=0,o=e.ja,r=e.ua;e.ja=function(n){o&&o.call(e,n),"arrayChange"===n&&t()},e.ua=function(t){r&&r.call(e,t),"arrayChange"!==t||e.Ba("arrayChange")||(n.p(),a=!1)},e.yb=function(e,t,n){function o(e,t,n){return r[r.length]={status:e,value:t,index:n}}if(a&&!s){var r=[],c=e.length,u=n.length,l=0;switch(t){case"push":l=c;case"unshift":for(t=0;t<u;t++)o("added",n[t],l+t);break;case"pop":l=c-1;case"shift":c&&o("deleted",e[l],l);break;case"splice":t=Math.min(Math.max(0,0>n[0]?c+n[0]:n[0]),c);for(var c=1===u?c:Math.min(t+(n[1]||0),c),u=t+u-2,l=Math.max(c,u),d=[],p=[],h=2;t<l;++t,++h)t<c&&p.push(o("deleted",e[t],t)),t<u&&d.push(o("added",n[h],t));f.a.Cb(p,d);break;default:return}i=r}}}},f.w=f.j=function(t,n,a){function i(e,t,n){if(x&&t===u)throw Error("A 'pure' computed must not be called recursively");T[e]=n,n.sa=D++,n.ea=t.Aa()}function s(){var e,t;for(e in T)if(T.hasOwnProperty(e)&&(t=T[e]).da.pc(t.ea))return!0}function o(){!w&&T&&f.a.A(T,function(e,t){t.p&&t.p()}),T=null,D=0,v=!0,w=m=!1}function r(){var e=u.throttleEvaluation;e&&0<=e?(clearTimeout(I),I=setTimeout(function(){c(!0)},e)):u.nb?u.nb():c(!0)}function c(t){if(!g&&!v){if(C&&C()){if(!b)return void S()}else b=!1;g=!0;try{var a=T,s=D,o=x?e:!D;f.k.xb({La:function(e,t){v||(s&&a[t]?(i(t,e,a[t]),delete a[t],--s):T[t]||i(t,e,w?{da:e}:e.U(r)))},w:u,Ca:o}),T={},D=0;try{var c=n?y.call(n):y()}finally{f.k.end(),s&&!w&&f.a.A(a,function(e,t){t.p&&t.p()}),m=!1}u.Wa(h,c)&&(w||p(h,"beforeChange"),h=c,w?u.Yb():t&&p(h)),o&&p(h,"awake")}finally{g=!1}D||S()}}function u(){if(0<arguments.length){if("function"!=typeof _)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return _.apply(n,arguments),this}return f.k.Ob(u),(m||w&&s())&&c(),h}function l(){return(m&&!D||w&&s())&&c(),h}function d(){return m||0<D}function p(e,t){u.notifySubscribers(e,t)}var h,m=!0,g=!1,b=!1,v=!1,y=t,x=!1,w=!1;if(y&&"object"==typeof y?(a=y,y=a.read):(a=a||{},y||(y=a.read)),"function"!=typeof y)throw Error("Pass a function that returns the value of the ko.computed");var _=a.write,k=a.disposeWhenNodeIsRemoved||a.q||null,E=a.disposeWhen||a.Pa,C=E,S=o,T={},D=0,I=null;n||(n=a.owner),f.Q.call(u),f.a.Ga(u,f.j.fn),u.B=l,u.oa=function(){return D},u.qc="function"==typeof _,u.p=function(){S()},u.$=d;var N=u.Za;return u.Za=function(e){N.call(u,e),u.nb=function(){u.pb(h),m=!0,u.qb(u)}},a.pure?(w=x=!0,u.ja=function(e){if(!v&&w&&"change"==e){if(w=!1,m||s())T=null,D=0,m=!0,c();else{var t=[];f.a.A(T,function(e,n){t[n.sa]=e}),f.a.o(t,function(e,t){var n=T[e],a=n.da.U(r);a.sa=t,a.ea=n.ea,T[e]=a})}v||p(h,"awake")}},u.ua=function(t){v||"change"!=t||u.Ba("change")||(f.a.A(T,function(e,t){t.p&&(T[e]={da:t.da,sa:t.sa,ea:t.ea},t.p())}),w=!0,p(e,"asleep"))},u.bc=u.Aa,u.Aa=function(){return w&&(m||s())&&c(),u.bc()}):a.deferEvaluation&&(u.ja=function(e){"change"!=e&&"beforeChange"!=e||l()}),f.D(u,"peek",u.B),f.D(u,"dispose",u.p),f.D(u,"isActive",u.$),f.D(u,"getDependenciesCount",u.oa),k&&(b=!0,k.nodeType&&(C=function(){return!f.a.Qa(k)||E&&E()})),w||a.deferEvaluation||c(),k&&d()&&k.nodeType&&(S=function(){f.a.C.Pb(k,S),o()},f.a.C.fa(k,S)),u},f.sc=function(e){return f.Ta(e,f.j)},h=f.r.Ac,f.j[h]=f.r,f.j.fn={equalityComparer:c},f.j.fn[h]=f.j,f.a.za&&f.a.Fa(f.j.fn,f.Q.fn),f.b("dependentObservable",f.j),f.b("computed",f.j),f.b("isComputed",f.sc),f.Nb=function(e,t){return"function"==typeof e?f.w(e,t,{pure:!0}):(e=f.a.extend({},e),e.pure=!0,f.w(e,t))},f.b("pureComputed",f.Nb),function(){function t(i,s,o){if(o=o||new a,"object"!=typeof(i=s(i))||null===i||i===e||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var r=i instanceof Array?[]:{};return o.save(i,r),n(i,function(n){var a=s(i[n]);switch(typeof a){case"boolean":case"number":case"string":case"function":r[n]=a;break;case"object":case"undefined":var c=o.get(a);r[n]=c!==e?c:t(a,s,o)}}),r}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function a(){this.keys=[],this.mb=[]}f.Vb=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(e,function(e){for(var t=0;f.F(e)&&10>t;t++)e=e();return e})},f.toJSON=function(e,t,n){return e=f.Vb(e),f.a.jb(e,t,n)},a.prototype={save:function(e,t){var n=f.a.m(this.keys,e);0<=n?this.mb[n]=t:(this.keys.push(e),this.mb.push(t))},get:function(t){return 0<=(t=f.a.m(this.keys,t))?this.mb[t]:e}}}(),f.b("toJS",f.Vb),f.b("toJSON",f.toJSON),f.i={s:function(t){switch(f.a.v(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?f.a.f.get(t,f.d.options.ab):7>=f.a.M?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?f.i.s(t.options[t.selectedIndex]):e;default:return t.value}},Y:function(t,n,a){switch(f.a.v(t)){case"option":switch(typeof n){case"string":f.a.f.set(t,f.d.options.ab,e),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=n;break;default:f.a.f.set(t,f.d.options.ab,n),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof n?n:""}break;case"select":""!==n&&null!==n||(n=e);for(var i,s=-1,o=0,r=t.options.length;o<r;++o)if((i=f.i.s(t.options[o]))==n||""==i&&n===e){s=o;break}(a||0<=s||n===e&&1<t.size)&&(t.selectedIndex=s);break;default:null!==n&&n!==e||(n=""),t.value=n}}},f.b("selectExtensions",f.i),f.b("selectExtensions.readValue",f.i.s),f.b("selectExtensions.writeValue",f.i.Y),f.h=function(){function e(e){123===(e=f.a.ib(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],o=e.match(a),r=[],c=0;if(o){o.push(",");for(var u,l=0;u=o[l];++l){var d=u.charCodeAt(0);if(44===d){if(0>=c){n.push(t&&r.length?{key:t,value:r.join("")}:{unknown:t||r.join("")}),t=c=0,r=[];continue}}else if(58===d){if(!c&&!t&&1===r.length){t=r.pop();continue}}else 47===d&&l&&1<u.length?(d=o[l-1].match(i))&&!s[d[0]]&&(e=e.substr(e.indexOf(u)+1),(o=e.match(a)).push(","),l=-1,u="/"):40===d||123===d||91===d?++c:41===d||125===d||93===d?--c:t||r.length||34!==d&&39!==d||(u=u.slice(1,-1));r.push(u)}}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,a=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),i=/[\])"'A-Za-z0-9_$]+$/,s={"in":1,"return":1,"typeof":1},o={};return{ka:[],V:o,bb:e,Ea:function(a,i){function s(e,a){var i;if(!l){var d=f.getBindingHandler(e);if(d&&d.preprocess&&!(a=d.preprocess(a,e,s)))return;(d=o[e])&&(i=a,0<=f.a.m(t,i)?i=!1:(d=i.match(n),i=null!==d&&(d[1]?"Object("+d[1]+")"+d[2]:i)),d=i),d&&c.push("'"+e+"':function(_z){"+i+"=_z}")}u&&(a="function(){return "+a+" }"),r.push("'"+e+"':"+a)}i=i||{};var r=[],c=[],u=i.valueAccessors,l=i.bindingParams,d="string"==typeof a?e(a):a;return f.a.o(d,function(e){s(e.key||e.unknown,e.value)}),c.length&&s("_ko_property_writers","{"+c.join(",")+" }"),r.join(",")},vc:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},ra:function(e,t,n,a,i){e&&f.F(e)?!f.Da(e)||i&&e.B()===a||e(a):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](a)}}}(),f.b("expressionRewriting",f.h),f.b("expressionRewriting.bindingRewriteValidators",f.h.ka),f.b("expressionRewriting.parseObjectLiteral",f.h.bb),f.b("expressionRewriting.preProcessBindings",f.h.Ea),f.b("expressionRewriting._twoWayBindings",f.h.V),f.b("jsonExpressionRewriting",f.h),f.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",f.h.Ea),function(){function e(e){return 8==e.nodeType&&o.test(s?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&r.test(s?e.text:e.nodeValue)}function a(n,a){for(var i=n,s=1,o=[];i=i.nextSibling;){if(t(i)&&0==--s)return o;o.push(i),e(i)&&s++}if(!a)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var n=a(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:null}var s=n&&"\x3c!--test--\x3e"===n.createComment("test").text,o=s?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,r=s?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0};f.e={R:{},childNodes:function(t){return e(t)?a(t):t.childNodes},ma:function(t){if(e(t)){t=f.e.childNodes(t);for(var n=0,a=t.length;n<a;n++)f.removeNode(t[n])}else f.a.Ra(t)},T:function(t,n){if(e(t)){f.e.ma(t);for(var a=t.nextSibling,i=0,s=n.length;i<s;i++)a.parentNode.insertBefore(n[i],a)}else f.a.T(t,n)},Mb:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},Fb:function(t,n,a){a?e(t)?t.parentNode.insertBefore(n,a.nextSibling):a.nextSibling?t.insertBefore(n,a.nextSibling):t.appendChild(n):f.e.Mb(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},oc:e,Fc:function(e){return(e=(s?e.text:e.nodeValue).match(o))?e[1]:null},Kb:function(n){if(c[f.a.v(n)]){var a=n.firstChild;if(a)do{if(1===a.nodeType){var s;s=a.firstChild;var o=null;if(s)do{if(o)o.push(s);else if(e(s)){var r=i(s,!0);r?s=r:o=[s]}else t(s)&&(o=[s])}while(s=s.nextSibling);if(s=o)for(o=a.nextSibling,r=0;r<s.length;r++)o?n.insertBefore(s[r],o):n.appendChild(s[r])}}while(a=a.nextSibling)}}}}(),f.b("virtualElements",f.e),f.b("virtualElements.allowedBindings",f.e.R),f.b("virtualElements.emptyNode",f.e.ma),f.b("virtualElements.insertAfter",f.e.Fb),f.b("virtualElements.prepend",f.e.Mb),f.b("virtualElements.setDomNodeChildren",f.e.T),f.L=function(){this.ec={}},f.a.extend(f.L.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||f.g.getComponentNameForNode(e);case 8:return f.e.oc(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),n=n?this.parseBindingsString(n,t,e):null;return f.g.sb(n,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),n=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return f.g.sb(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return f.e.Fc(e);default:return null}},parseBindingsString:function(e,t,n,a){try{var i,s=this.ec,o=e+(a&&a.valueAccessors||"");if(!(i=s[o])){var r,c="with($context){with($data||{}){return{"+f.h.Ea(e,a)+"}}}";r=new Function("$context","$element",c),i=s[o]=r}return i(t,n)}catch(u){throw u.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+u.message,u}}}),f.L.instance=new f.L,f.b("bindingProvider",f.L),function(){function n(e){return function(){return e}}function a(e){return e()}function s(e){return f.a.pa(f.k.u(e),function(t,n){return function(){return e()[n]}})}function o(e,t,a){return"function"==typeof e?s(e.bind(null,t,a)):f.a.pa(e,n)}function r(e,t){return s(this.getBindings.bind(this,e,t))}function c(e,t,n){var a,i=f.e.firstChild(t),s=f.L.instance,o=s.preprocessNode;if(o){for(;a=i;)i=f.e.nextSibling(a),o.call(s,a);i=f.e.firstChild(t)}for(;a=i;)i=f.e.nextSibling(a),u(e,a,n)}function u(e,t,n){var a=!0,i=1===t.nodeType;i&&f.e.Kb(t),(i&&n||f.L.instance.nodeHasBindings(t))&&(a=d(t,null,e,n).shouldBindDescendants),a&&!h[f.a.v(t)]&&c(e,t,!i)}function l(e){var t=[],n={},a=[];return f.a.A(e,function i(s){if(!n[s]){var o=f.getBindingHandler(s);o&&(o.after&&(a.push(s),f.a.o(o.after,function(t){if(e[t]){if(-1!==f.a.m(a,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+a.join(", "));i(t)}}),a.length--),t.push({key:s,Eb:o})),n[s]=!0}}),t}function d(t,n,i,s){var o=f.a.f.get(t,m);if(!n){if(o)throw Error("You cannot apply bindings multiple times to the same element.");f.a.f.set(t,m,!0)}!o&&s&&f.Tb(t,i);var c;if(n&&"function"!=typeof n)c=n;else{var u=f.L.instance,d=u.getBindingAccessors||r,p=f.j(function(){return(c=n?n(i,t):d.call(u,t,i))&&i.K&&i.K(),c},null,{q:t});c&&p.$()||(p=null)}var h;if(c){var g=p?function(e){return function(){return a(p()[e])}}:function(e){return c[e]},b=function(){return f.a.pa(p?p():c,a)};b.get=function(e){return c[e]&&a(g(e))},b.has=function(e){return e in c},s=l(c),f.a.o(s,function(n){var a=n.Eb.init,s=n.Eb.update,r=n.key;if(8===t.nodeType&&!f.e.R[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof a&&f.k.u(function(){var n=a(t,g(r),b,i.$data,i);if(n&&n.controlsDescendantBindings){if(h!==e)throw Error("Multiple bindings ("+h+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=r}}),"function"==typeof s&&f.j(function(){s(t,g(r),b,i.$data,i)},null,{q:t})}catch(o){throw o.message='Unable to process binding "'+r+": "+c[r]+'"\nMessage: '+o.message,o}})}return{shouldBindDescendants:h===e}}function p(e){return e&&e instanceof f.N?e:new f.N(e)}f.d={};var h={script:!0,textarea:!0};f.getBindingHandler=function(e){return f.d[e]},f.N=function(t,n,a,i){var s,o=this,r="function"==typeof t&&!f.F(t),c=f.j(function(){var e=r?t():t,s=f.a.c(e);return n?(n.K&&n.K(),f.a.extend(o,n),c&&(o.K=c)):(o.$parents=[],o.$root=s,o.ko=f),o.$rawData=e,o.$data=s,a&&(o[a]=s),i&&i(o,n,s),o.$data},null,{Pa:function(){return s&&!f.a.tb(s)},q:!0});c.$()&&(o.K=c,c.equalityComparer=null,s=[],c.Zb=function(t){s.push(t),f.a.C.fa(t,function(t){f.a.ya(s,t),s.length||(c.p(),o.K=c=e)})})},f.N.prototype.createChildContext=function(e,t,n){return new f.N(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},f.N.prototype.extend=function(e){return new f.N(this.K||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,f.a.extend(t,"function"==typeof e?e():e)})};var m=f.a.f.I(),g=f.a.f.I();f.Tb=function(e,t){if(2!=arguments.length)return f.a.f.get(e,g);f.a.f.set(e,g,t),t.K&&t.K.Zb(e)},f.va=function(e,t,n){return 1===e.nodeType&&f.e.Kb(e),d(e,t,p(n),!0)},f.cc=function(e,t,n){return n=p(n),f.va(e,o(t,n,e),n)},f.Ja=function(e,t){1!==t.nodeType&&8!==t.nodeType||c(p(e),t,!0)},f.ub=function(e,n){if(!i&&t.jQuery&&(i=t.jQuery),n&&1!==n.nodeType&&8!==n.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||t.document.body,u(p(e),n,!0)},f.Oa=function(t){switch(t.nodeType){case 1:case 8:var n=f.Tb(t);if(n)return n;if(t.parentNode)return f.Oa(t.parentNode)}return e},f.gc=function(t){return(t=f.Oa(t))?t.$data:e},f.b("bindingHandlers",f.d),f.b("applyBindings",f.ub),f.b("applyBindingsToDescendants",f.Ja),f.b("applyBindingAccessorsToNode",f.va),f.b("applyBindingsToNode",f.cc),f.b("contextFor",f.Oa),f.b("dataFor",f.gc)}(),function(e){function t(t,a){var o,r=i.hasOwnProperty(t)?i[t]:e;r?r.U(a):((r=i[t]=new f.Q).U(a),n(t,function(e,n){var a=!(!n||!n.synchronous);s[t]={definition:e,tc:a},delete i[t],o||a?r.notifySubscribers(e):setTimeout(function(){r.notifySubscribers(e)},0)}),o=!0)}function n(e,t){a("getConfig",[e],function(n){n?a("loadComponent",[e,n],function(e){t(e,n)}):t(null,null)})}function a(t,n,i,s){s||(s=f.g.loaders.slice(0));var o=s.shift();if(o){var r=o[t];if(r){var c=!1;if(r.apply(o,n.concat(function(e){c?i(null):null!==e?i(e):a(t,n,i,s)}))!==e&&(c=!0,!o.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else a(t,n,i,s)}else i(null)}var i={},s={};f.g={get:function(n,a){var i=s.hasOwnProperty(n)?s[n]:e;i?i.tc?f.k.u(function(){a(i.definition)}):setTimeout(function(){a(i.definition)},0):t(n,a)},zb:function(e){delete s[e]},ob:a},f.g.loaders=[],f.b("components",f.g),f.b("components.get",f.g.get),f.b("components.clearCachedDefinition",f.g.zb)}(),function(){function e(e,t,n,a){function i(){0==--r&&a(s)}var s={},r=2,c=n.template;n=n.viewModel,c?o(t,c,function(t){f.g.ob("loadTemplate",[e,t],function(e){s.template=e,i()})}):i(),n?o(t,n,function(t){f.g.ob("loadViewModel",[e,t],function(e){s[l]=e,i()})}):i()}function a(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[l])n(t[l]);else if("instance"in t){var i=t.instance;n(function(){return i})}else"viewModel"in t?a(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function i(e){switch(f.a.v(e)){case"script":return f.a.ca(e.text);case"textarea":return f.a.ca(e.value);case"template":if(s(e.content))return f.a.la(e.content.childNodes)}return f.a.la(e.childNodes)}function s(e){return t.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function o(e,n,a){"string"==typeof n.require?r||t.require?(r||t.require)([n.require],a):e("Uses require, but no AMD loader is present"):a(n)}function c(e){return function(t){throw Error("Component '"+e+"': "+t)}}var u={};f.g.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(f.g.Xa(e))throw Error("Component "+e+" is already registered");u[e]=t},f.g.Xa=function(e){return e in u},f.g.Ec=function(e){delete u[e],f.g.zb(e)},f.g.Ab={getConfig:function(e,t){t(u.hasOwnProperty(e)?u[e]:null)},loadComponent:function(t,n,a){var i=c(t);o(i,n,function(n){e(t,i,n,a)})},loadTemplate:function(e,a,o){if(e=c(e),"string"==typeof a)o(f.a.ca(a));else if(a instanceof Array)o(a);else if(s(a))o(f.a.O(a.childNodes));else if(a.element)if(a=a.element,t.HTMLElement?a instanceof HTMLElement:a&&a.tagName&&1===a.nodeType)o(i(a));else if("string"==typeof a){var r=n.getElementById(a);r?o(i(r)):e("Cannot find element with ID "+a)}else e("Unknown element type: "+a);else e("Unknown template value: "+a)},loadViewModel:function(e,t,n){a(c(e),t,n)}};var l="createViewModel";f.b("components.register",f.g.register),f.b("components.isRegistered",f.g.Xa),f.b("components.unregister",f.g.Ec),f.b("components.defaultLoader",f.g.Ab),f.g.loaders.push(f.g.Ab),f.g.$b=u}(),function(){function e(e,n){a=e.getAttribute("params");if(a){var a=t.parseBindingsString(a,n,e,{valueAccessors:!0,bindingParams:!0}),a=f.a.pa(a,function(t){return f.w(t,null,{q:e})}),i=f.a.pa(a,function(t){var n=t.B();return t.$()?f.w({read:function(){return f.a.c(t())},write:f.Da(n)&&function(e){t()(e)},q:e}):n});return i.hasOwnProperty("$raw")||(i.$raw=a),i}return{$raw:{}}}f.g.getComponentNameForNode=function(e){return e=f.a.v(e),f.g.Xa(e)&&e},f.g.sb=function(t,n,a,i){if(1===n.nodeType){var s=f.g.getComponentNameForNode(n);if(s){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:s,params:e(n,a)};t.component=i?function(){return o}:o}}return t};var t=new f.L;9>f.a.M&&(f.g.register=function(e){return function(t){return n.createElement(t),e.apply(this,arguments)}}(f.g.register),n.createDocumentFragment=function(e){return function(){var t,n=e(),a=f.g.$b;for(t in a)a.hasOwnProperty(t)&&n.createElement(t);return n}}(n.createDocumentFragment))}(),function(e){function t(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=f.a.la(t),f.e.T(n,e)}function n(e,t,n,a){var i=e.createViewModel;return i?i.call(e,a,{element:t,templateNodes:n}):a}var a=0;f.d.component={init:function(e,i,s,o,r){function c(){var e=u&&u.dispose;"function"==typeof e&&e.call(u),l=null}var u,l,d=f.a.O(f.e.childNodes(e));return f.a.C.fa(e,c),f.w(function(){var s,o,p=f.a.c(i());if("string"==typeof p?s=p:(s=f.a.c(p.name),o=f.a.c(p.params)),!s)throw Error("No component name specified");var h=l=++a;f.g.get(s,function(a){if(l===h){if(c(),!a)throw Error("Unknown component '"+s+"'");t(s,a,e);var i=n(a,e,d,o);a=r.createChildContext(i,void 0,function(e){e.$component=i,e.$componentTemplateNodes=d}),u=i,f.Ja(a,e)}})},null,{q:e}),{controlsDescendantBindings:!0}}},f.e.R.component=!0}();var g={"class":"className","for":"htmlFor"};f.d.attr={update:function(t,n){var a=f.a.c(n())||{};f.a.A(a,function(n,a){a=f.a.c(a);var i=!1===a||null===a||a===e;i&&t.removeAttribute(n),8>=f.a.M&&n in g?(n=g[n],i?t.removeAttribute(n):t[n]=a):i||t.setAttribute(n,a.toString()),"name"===n&&f.a.Rb(t,i?"":a.toString())})}},f.d.checked={after:["value","attr"],init:function(t,n,a){function i(){var e=t.checked,i=l?s():e;if(!f.Z.Ca()&&(!r||e)){var o=f.k.u(n);c?u!==i?(e&&(f.a.ga(o,i,!0),f.a.ga(o,u,!1)),u=i):f.a.ga(o,i,e):f.h.ra(o,a,"checked",i,!0)}}var s=f.Nb(function(){return a.has("checkedValue")?f.a.c(a.get("checkedValue")):a.has("value")?f.a.c(a.get("value")):t.value}),o="checkbox"==t.type,r="radio"==t.type;if(o||r){var c=o&&f.a.c(n())instanceof Array,u=c?s():e,l=r||c;r&&!t.name&&f.d.uniqueName.init(t,function(){return!0}),f.w(i,null,{q:t}),f.a.n(t,"click",i),f.w(function(){var e=f.a.c(n());t.checked=c?0<=f.a.m(e,s()):o?e:s()===e},null,{q:t})}}},f.h.V.checked=!0,f.d.checkedValue={update:function(e,t){e.value=f.a.c(t())}},f.d.css={update:function(e,t){var n=f.a.c(t());null!==n&&"object"==typeof n?f.a.A(n,function(t,n){n=f.a.c(n),f.a.Ia(e,t,n)}):(n=String(n||""),f.a.Ia(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,f.a.Ia(e,n,!0))}},f.d.enable={update:function(e,t){var n=f.a.c(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},f.d.disable={update:function(e,t){f.d.enable.update(e,function(){return!f.a.c(t())})}},f.d.event={init:function(e,t,n,a,i){var s=t()||{};f.a.A(s,function(s){"string"==typeof s&&f.a.n(e,s,function(e){var o,r=t()[s];if(r){try{var c=f.a.O(arguments);a=i.$data,c.unshift(a),o=r.apply(a,c)}finally{!0!==o&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(s+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},f.d.foreach={Ib:function(e){return function(){var t=e(),n=f.a.cb(t);return n&&"number"!=typeof n.length?(f.a.c(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:f.P.Va}):{foreach:t,templateEngine:f.P.Va}}},init:function(e,t){return f.d.template.init(e,f.d.foreach.Ib(t))},update:function(e,t,n,a,i){return f.d.template.update(e,f.d.foreach.Ib(t),n,a,i)}},f.h.ka.foreach=!1,f.e.R.foreach=!0,f.d.hasfocus={init:function(e,t,n){function a(a){e.__ko_hasfocusUpdating=!0;var i=e.ownerDocument;if("activeElement"in i){var s;try{s=i.activeElement}catch(o){s=i.body}a=s===e}i=t(),f.h.ra(i,n,"hasfocus",a,!0),e.__ko_hasfocusLastValue=a,e.__ko_hasfocusUpdating=!1}var i=a.bind(null,!0),s=a.bind(null,!1);f.a.n(e,"focus",i),f.a.n(e,"focusin",i),f.a.n(e,"blur",s),f.a.n(e,"focusout",s)},update:function(e,t){var n=!!f.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),f.k.u(f.a.qa,null,[e,n?"focusin":"focusout"]))}},f.h.V.hasfocus=!0,f.d.hasFocus=f.d.hasfocus,f.h.V.hasFocus=!0,f.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){f.a.gb(e,t())}},d("if"),d("ifnot",!1,!0),d("with",!0,!1,function(e,t){return e.createChildContext(t)});var b={};f.d.options={init:function(e){if("select"!==f.a.v(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(t,n,a){function i(){return f.a.xa(t.options,function(e){return e.selected})}function s(e,t,n){var a=typeof t;return"function"==a?t(e):"string"==a?e[t]:n}function o(e,n){if(m&&l)f.i.Y(t,f.a.c(a.get("value")),!0);else if(h.length){var i=0<=f.a.m(h,f.i.s(n[0]));f.a.Sb(n[0],i),m&&!i&&f.k.u(f.a.qa,null,[t,"change"])}}var r=t.multiple,c=0!=t.length&&r?t.scrollTop:null,u=f.a.c(n()),l=a.get("valueAllowUnset")&&a.has("value"),d=a.get("optionsIncludeDestroyed");n={};var p,h=[];l||(r?h=f.a.Ka(i(),f.i.s):0<=t.selectedIndex&&h.push(f.i.s(t.options[t.selectedIndex]))),u&&("undefined"==typeof u.length&&(u=[u]),p=f.a.xa(u,function(t){return d||t===e||null===t||!f.a.c(t._destroy)}),a.has("optionsCaption")&&null!==(u=f.a.c(a.get("optionsCaption")))&&u!==e&&p.unshift(b));var m=!1;n.beforeRemove=function(e){t.removeChild(e)},u=o,a.has("optionsAfterRender")&&"function"==typeof a.get("optionsAfterRender")&&(u=function(t,n){o(0,n),f.k.u(a.get("optionsAfterRender"),null,[n[0],t!==b?t:e])}),f.a.fb(t,p,function(n,i,o){return o.length&&(h=!l&&o[0].selected?[f.i.s(o[0])]:[],m=!0),i=t.ownerDocument.createElement("option"),n===b?(f.a.Ha(i,a.get("optionsCaption")),f.i.Y(i,e)):(o=s(n,a.get("optionsValue"),n),f.i.Y(i,f.a.c(o)),n=s(n,a.get("optionsText"),o),f.a.Ha(i,n)),[i]},n,u),f.k.u(function(){l?f.i.Y(t,f.a.c(a.get("value")),!0):(r?h.length&&i().length<h.length:h.length&&0<=t.selectedIndex?f.i.s(t.options[t.selectedIndex])!==h[0]:h.length||0<=t.selectedIndex)&&f.a.qa(t,"change")}),f.a.kc(t),c&&20<Math.abs(c-t.scrollTop)&&(t.scrollTop=c)}},f.d.options.ab=f.a.f.I(),f.d.selectedOptions={after:["options","foreach"],init:function(e,t,n){f.a.n(e,"change",function(){var a=t(),i=[];f.a.o(e.getElementsByTagName("option"),function(e){e.selected&&i.push(f.i.s(e))}),f.h.ra(a,n,"selectedOptions",i)})},update:function(e,t){if("select"!=f.a.v(e))throw Error("values binding applies only to SELECT elements");var n=f.a.c(t());n&&"number"==typeof n.length&&f.a.o(e.getElementsByTagName("option"),function(e){var t=0<=f.a.m(n,f.i.s(e));f.a.Sb(e,t)})}},f.h.V.selectedOptions=!0,f.d.style={update:function(t,n){var a=f.a.c(n()||{});f.a.A(a,function(n,a){null!==(a=f.a.c(a))&&a!==e&&!1!==a||(a=""),t.style[n]=a})}},f.d.submit={init:function(e,t,n,a,i){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");f.a.n(e,"submit",function(n){var a,s=t();try{a=s.call(i.$data,e)}finally{!0!==a&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},f.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){f.a.Ha(e,t())}},f.e.R.text=!0,function(){if(t&&t.navigator)var n=function(e){if(e)return parseFloat(e[1])},a=t.opera&&t.opera.version&&parseInt(t.opera.version()),i=t.navigator.userAgent,s=n(i.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),o=n(i.match(/Firefox\/([^ ]*)/));if(10>f.a.M)var r=f.a.f.I(),c=f.a.f.I(),u=function(e){var t=this.activeElement;(t=t&&f.a.f.get(t,c))&&t(e)},l=function(e,t){var n=e.ownerDocument;f.a.f.get(n,r)||(f.a.f.set(n,r,!0),f.a.n(n,"selectionchange",u)),f.a.f.set(e,c,t)};f.d.textInput={init:function(t,n,i){function r(e,n){f.a.n(t,e,n)}function c(){var a=f.a.c(n());null!==a&&a!==e||(a=""),h!==e&&a===h?setTimeout(c,4):t.value!==a&&(m=a,t.value=a)}function u(){p||(h=t.value,p=setTimeout(d,4))}function d(){clearTimeout(p),h=p=e;var a=t.value;m!==a&&(m=a,f.h.ra(n(),i,"textInput",a))}var p,h,m=t.value;10>f.a.M?(r("propertychange",function(e){"value"===e.propertyName&&d()}),8==f.a.M&&(r("keyup",d),r("keydown",d)),8<=f.a.M&&(l(t,d),r("dragend",u))):(r("input",d),5>s&&"textarea"===f.a.v(t)?(r("keydown",u),r("paste",u),r("cut",u)):11>a?r("keydown",u):4>o&&(r("DOMAutoComplete",d),r("dragdrop",d),r("drop",d))),r("change",d),f.w(c,null,{q:t})}},f.h.V.textInput=!0,f.d.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),f.d.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++f.d.uniqueName.fc;f.a.Rb(e,n)}}},f.d.uniqueName.fc=0,f.d.value={after:["options","foreach"],init:function(e,t,n){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var a=["change"],i=n.get("valueUpdate"),s=!1,o=null;i&&("string"==typeof i&&(i=[i]),f.a.ia(a,i),a=f.a.wb(a));var r=function(){o=null,s=!1;var a=t(),i=f.i.s(e);f.h.ra(a,n,"value",i)};!f.a.M||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=f.a.m(a,"propertychange")||(f.a.n(e,"propertychange",function(){s=!0}),f.a.n(e,"focus",function(){s=!1}),f.a.n(e,"blur",function(){s&&r()})),f.a.o(a,function(t){var n=r;f.a.Dc(t,"after")&&(n=function(){o=f.i.s(e),setTimeout(r,0)},t=t.substring(5)),f.a.n(e,t,n)});var c=function(){var a=f.a.c(t()),i=f.i.s(e);if(null!==o&&a===o)setTimeout(c,0);else if(a!==i)if("select"===f.a.v(e)){var s=n.get("valueAllowUnset"),i=function(){f.i.Y(e,a,s)};i(),s||a===f.i.s(e)?setTimeout(i,0):f.k.u(f.a.qa,null,[e,"change"])}else f.i.Y(e,a)};f.w(c,null,{q:e})}else f.va(e,{checkedValue:t})},update:function(){}},f.h.V.value=!0,f.d.visible={update:function(e,t){var n=f.a.c(t()),a="none"!=e.style.display;n&&!a?e.style.display="":!n&&a&&(e.style.display="none")}},function(e){f.d[e]={init:function(t,n,a,i,s){return f.d.event.init.call(this,t,function(){var t={};return t[e]=n(),t},a,i,s)}}}("click"),f.J=function(){},f.J.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},f.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},f.J.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||n;var a=t.getElementById(e);if(!a)throw Error("Cannot find template with ID "+e);return new f.t.l(a)}if(1==e.nodeType||8==e.nodeType)return new f.t.ha(e);throw Error("Unknown template type: "+e)},f.J.prototype.renderTemplate=function(e,t,n,a){return e=this.makeTemplateSource(e,a),this.renderTemplateSource(e,t,n,a)},f.J.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},f.J.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},f.b("templateEngine",f.J),f.kb=function(){function e(e,t,n,a){e=f.h.bb(e);for(var i=f.h.ka,s=0;s<e.length;s++){var o=e[s].key;if(i.hasOwnProperty(o)){var r=i[o];if("function"==typeof r){if(o=r(e[s].value))throw Error(o)}else if(!r)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+f.h.Ea(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{lc:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return f.kb.xc(e,t)},n)},xc:function(a,i){return a.replace(t,function(t,n,a,s,o){return e(o,n,a,i)}).replace(n,function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",i)})},dc:function(e,t){return f.H.$a(function(n,a){var i=n.nextSibling;i&&i.nodeName.toLowerCase()===t&&f.va(i,e,a)})}}}(),f.b("__tr_ambtns",f.kb.dc),function(){f.t={},f.t.l=function(e){this.l=e},f.t.l.prototype.text=function(){var e=f.a.v(this.l),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.l[e];var t=arguments[0];"innerHTML"===e?f.a.gb(this.l,t):this.l[e]=t};var t=f.a.f.I()+"_";f.t.l.prototype.data=function(e){if(1===arguments.length)return f.a.f.get(this.l,t+e);f.a.f.set(this.l,t+e,arguments[1])};var n=f.a.f.I();f.t.ha=function(e){this.l=e},f.t.ha.prototype=new f.t.l,f.t.ha.prototype.text=function(){if(0==arguments.length){var t=f.a.f.get(this.l,n)||{};return t.lb===e&&t.Na&&(t.lb=t.Na.innerHTML),t.lb}f.a.f.set(this.l,n,{lb:arguments[0]})},f.t.l.prototype.nodes=function(){if(0==arguments.length)return(f.a.f.get(this.l,n)||{}).Na;f.a.f.set(this.l,n,{Na:arguments[0]})},f.b("templateSources",f.t),f.b("templateSources.domElement",f.t.l),f.b("templateSources.anonymousTemplate",f.t.ha)}(),function(){function t(e,t,n){var a;for(t=f.e.nextSibling(t);e&&(a=e)!==t;)e=f.e.nextSibling(a),n(a,e)}function n(e,n){if(e.length){var a=e[0],i=e[e.length-1],s=a.parentNode,o=f.L.instance,r=o.preprocessNode;if(r){if(t(a,i,function(e,t){var n=e.previousSibling,s=r.call(o,e);s&&(e===a&&(a=s[0]||t),e===i&&(i=s[s.length-1]||n))}),e.length=0,!a)return;a===i?e.push(a):(e.push(a,i),f.a.na(e,s))}t(a,i,function(e){1!==e.nodeType&&8!==e.nodeType||f.ub(n,e)}),t(a,i,function(e){1!==e.nodeType&&8!==e.nodeType||f.H.Xb(e,[n])}),f.a.na(e,s)}}function a(e){return e.nodeType?e:0<e.length?e[0]:null}function i(e,t,i,s,r){r=r||{};var c=(e&&a(e)||i||{}).ownerDocument,u=r.templateEngine||o;if(f.kb.lc(i,u,c),"number"!=typeof(i=u.renderTemplate(i,s,r,c)).length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(c=!1,t){case"replaceChildren":f.e.T(e,i),c=!0;break;case"replaceNode":f.a.Qb(e,i),c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return c&&(n(i,s),r.afterRender&&f.k.u(r.afterRender,null,[i,s.$data])),i}function s(e,t,n){return f.F(e)?e():"function"==typeof e?e(t,n):e}var o;f.hb=function(t){if(t!=e&&!(t instanceof f.J))throw Error("templateEngine must inherit from ko.templateEngine");o=t},f.eb=function(t,n,r,c,u){if(((r=r||{}).templateEngine||o)==e)throw Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",c){var l=a(c);return f.j(function(){var e=n&&n instanceof f.N?n:new f.N(f.a.c(n)),o=s(t,e.$data,e),e=i(c,u,o,e,r);"replaceNode"==u&&(c=e,l=a(c))},null,{Pa:function(){return!l||!f.a.Qa(l)},q:l&&"replaceNode"==u?l.parentNode:l})}return f.H.$a(function(e){f.eb(t,n,r,e,"replaceNode")})},f.Cc=function(t,a,o,r,c){function u(e,t){n(t,d),o.afterRender&&o.afterRender(t,e),d=null}function l(e,n){d=c.createChildContext(e,o.as,function(e){e.$index=n});var a=s(t,e,d);return i(null,"ignoreTargetNode",a,d,o)}var d;return f.j(function(){var t=f.a.c(a)||[];"undefined"==typeof t.length&&(t=[t]),t=f.a.xa(t,function(t){return o.includeDestroyed||t===e||null===t||!f.a.c(t._destroy)}),f.k.u(f.a.fb,null,[r,t,l,o,u])},null,{q:r})};var r=f.a.f.I();f.d.template={init:function(e,t){var n=f.a.c(t());if("string"==typeof n||n.name)f.e.ma(e);else{if("nodes"in n){if(n=n.nodes||[],f.F(n))throw Error('The "nodes" option must be a plain, non-observable array.')}else n=f.e.childNodes(e);n=f.a.Jb(n),new f.t.ha(e).nodes(n)}return{controlsDescendantBindings:!0}},update:function(t,n,a,i,s){var o,c=n();n=f.a.c(c),a=!0,i=null,"string"==typeof n?n={}:(c=n.name,"if"in n&&(a=f.a.c(n["if"])),a&&"ifnot"in n&&(a=!f.a.c(n.ifnot)),o=f.a.c(n.data)),"foreach"in n?i=f.Cc(c||t,a&&n.foreach||[],n,t,s):a?(s="data"in n?s.createChildContext(o,n.as):s,i=f.eb(c||t,s,n,t)):f.e.ma(t),s=i,(o=f.a.f.get(t,r))&&"function"==typeof o.p&&o.p(),f.a.f.set(t,r,s&&s.$()?s:e)}},f.h.ka.template=function(e){return 1==(e=f.h.bb(e)).length&&e[0].unknown||f.h.vc(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},f.e.R.template=!0}(),f.b("setTemplateEngine",f.hb),f.b("renderTemplate",f.eb),f.a.Cb=function(e,t,n){if(e.length&&t.length){var a,i,s,o,r;for(a=i=0;(!n||a<n)&&(o=e[i]);++i){for(s=0;r=t[s];++s)if(o.value===r.value){o.moved=r.index,r.moved=o.index,t.splice(s,1),a=s=0;break}a+=s}}},f.a.Ma=function(){function e(e,t,n,a,i){var s,o,r,c,u,l=Math.min,d=Math.max,p=[],h=e.length,m=t.length,g=m-h||1,b=h+m+1;for(s=0;s<=h;s++)for(c=r,p.push(r=[]),u=l(m,s+g),o=d(0,s-1);o<=u;o++)r[o]=o?s?e[s-1]===t[o-1]?c[o-1]:l(c[o]||b,r[o-1]||b)+1:o+1:s+1;for(l=[],d=[],g=[],s=h,o=m;s||o;)m=p[s][o]-1,o&&m===p[s][o-1]?d.push(l[l.length]={status:n,value:t[--o],index:o}):s&&m===p[s-1][o]?g.push(l[l.length]={status:a,value:e[--s],index:s}):(--o,--s,i.sparse||l.push({status:"retained",value:t[o]}));return f.a.Cb(d,g,10*h),l.reverse()}return function(t,n,a){return a="boolean"==typeof a?{dontLimitMoves:a}:a||{},t=t||[],n=n||[],t.length<=n.length?e(t,n,"added","deleted",a):e(n,t,"deleted","added",a)}}(),f.b("utils.compareArrays",f.a.Ma),function(){function t(t,n,a,i,s){var o=[],r=f.j(function(){var e=n(a,s,f.a.na(o,t))||[];0<o.length&&(f.a.Qb(o,e),i&&f.k.u(i,null,[a,e,s])),o.length=0,f.a.ia(o,e)},null,{q:t,Pa:function(){return!f.a.tb(o)}});return{aa:o,j:r.$()?r:e}}var n=f.a.f.I();f.a.fb=function(a,i,s,o,r){function c(e,t){x=d[t],b!==t&&(k[e]=x),x.Ua(b++),f.a.na(x.aa,a),m.push(x),y.push(x)}function u(e,t){if(e)for(var n=0,a=t.length;n<a;n++)t[n]&&f.a.o(t[n].aa,function(a){e(a,n,t[n].wa)})}i=i||[],o=o||{};var l=f.a.f.get(a,n)===e,d=f.a.f.get(a,n)||[],p=f.a.Ka(d,function(e){return e.wa}),h=f.a.Ma(p,i,o.dontLimitMoves),m=[],g=0,b=0,v=[],y=[];i=[];for(var x,w,_,k=[],p=[],E=0;w=h[E];E++)switch(_=w.moved,w.status){case"deleted":_===e&&((x=d[g]).j&&x.j.p(),v.push.apply(v,f.a.na(x.aa,a)),o.beforeRemove&&(i[E]=x,y.push(x))),g++;break;case"retained":c(E,g++);break;case"added":_!==e?c(E,_):(x={wa:w.value,Ua:f.r(b++)},m.push(x),y.push(x),l||(p[E]=x))}u(o.beforeMove,k),f.a.o(v,o.beforeRemove?f.S:f.removeNode);for(var C,E=0,l=f.e.firstChild(a);x=y[E];E++){for(x.aa||f.a.extend(x,t(a,s,x.wa,r,x.Ua)),g=0;h=x.aa[g];l=h.nextSibling,C=h,g++)h!==l&&f.e.Fb(a,h,C);!x.rc&&r&&(r(x.wa,x.aa,x.Ua),x.rc=!0)}u(o.beforeRemove,i),u(o.afterMove,k),u(o.afterAdd,p),f.a.f.set(a,n,m)}}(),f.b("utils.setDomNodeChildrenFromArrayMapping",f.a.fb),f.P=function(){this.allowTemplateRewriting=!1},f.P.prototype=new f.J,f.P.prototype.renderTemplateSource=function(e,t,n,a){return(t=(9>f.a.M?0:e.nodes)?e.nodes():null)?f.a.O(t.cloneNode(!0).childNodes):(e=e.text(),f.a.ca(e,a))},f.P.Va=new f.P,f.hb(f.P.Va),f.b("nativeTemplateEngine",f.P),function(){f.Ya=function(){var e=this.uc=function(){if(!i||!i.tmpl)return 0;try{if(0<=i.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,a,s,o){if(o=o||n,s=s||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var r=t.data("precompiled");return r||(r=t.text()||"",r=i.template(null,"{{ko_with $item.koBindingContext}}"+r+"{{/ko_with}}"),t.data("precompiled",r)),t=[a.$data],a=i.extend({koBindingContext:a},s.templateOptions),(a=i.tmpl(r,t,a)).appendTo(o.createElement("div")),i.fragments={},a},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){n.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(i.tmpl.tag.ko_code={open:"__.push($1 || '');"},i.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},f.Ya.prototype=new f.J;var e=new f.Ya;0<e.uc&&f.hb(e),f.b("jqueryTmplTemplateEngine",f.Ya)}()})}(),function(e){"use strict";function t(){return window.Sizzle?window.Sizzle:window.jQuery&&window.jQuery.find?window.jQuery.find:function(e,t){return"object"==typeof t&&t.querySelectorAll?t.querySelectorAll(e):"string"==typeof t?document.querySelectorAll(t+" "+e):document.querySelectorAll(e)}}e.Selector={$:function(e){return document.getElementById(e)},$$:t(),_createSelectorAlias:t}}(this),function(e){"use strict";e.DOMEvent={on:document.addEventListener?function(e,t,n){if(!e)throw new Error('failed to add event. Element: "'+e+'", Event: "'+t+'", handler: '+n.toString());e.addEventListener(t,n,!1)}:function(e,t,n){if(!e)throw new Error('failed to add event. Element: "'+e+'", Event: "'+t+'", handler: '+n.toString());e.attachEvent("on"+t,n)},off:document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},preventDefault:function(e){var t=e||window.event;t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(e){var t=e||window.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(e){var t=e||window.event;return t.target||t.srcElement}},e.DOMEvent.delegate=function(t,n,a,i){if("undefined"==typeof Selector)throw new Error("dependency not found. you should include selector-alias module to use delegate function.");if(!t)throw new Error('failed to delegate event. Element: "'+t+'", Selector: "'+n+'", Event: "'+a+'", handler: '+i.toString());var s=Selector.$$;e.DOMEvent.on(t,a,function(a){var o=e.DOMEvent.getTarget(a),r=s(n,t);for(r=Array.prototype.slice.apply(r);o&&o!==t;){if(1===o.nodeType&&r.indexOf(o)>-1){i(a,o);break}o=o.parentNode}})}}(window),function(e){"use strict";function t(){}"function"!=typeof Object.create&&(Object.create=function(e){var t=function(){};return function(e,n){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");t.prototype=e||{},void 0!==n&&Object.defineProperties(t.prototype,n);var a=new t;return t.prototype=null,null===e&&(a.__proto__=null),a}}());var n=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;t.extend=function(e){var a=this.prototype,i=Object.create(a);for(var s in e)i[s]="function"==typeof e[s]&&"function"==typeof a[s]&&n.test(e[s])?function(e,t){return function(){var n=this._super;this._super=a[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,e[s]):e[s];var o=function(){"function"==typeof this.init&&this.init.apply(this,arguments)};return o.prototype=i,i.constructor=o,o.extend=t.extend,o},e.Class=t}(this),function(e){"use strict";e.Observer=Class.extend({on:function(e,t){for(var n=[].concat(e),a=0,i=n.length;a<i;a++)this.addListener.apply(this,[n[a],t]);return this},addListener:function(e,t){var n=this.getListeners(e);return n.push(t),this},once:function(e,t){if(t){var n=this,a=function(){n.off(e,a),t.apply(this,arguments)};t.__onetime_listener=a,this.on(e,a)}},emit:function(e){for(var t=[].concat(e),n=[].slice.call(arguments,1),a=0,i=t.length;a<i;a++)this._emit(t[a],n);return this},_emit:function(e,t){var n=this.getListeners(e).slice(0);if(void 0!==n)for(var a=0,i=n.length;a<i;a++)try{n[a].apply(this,t)}catch(s){throw s}},getListeners:function(e){return this.listeners=this.listeners||{},this.listeners[e]=this.listeners[e]||[],this.listeners[e]},off:function(e,t){var n=[].concat(e);t&&"function"==typeof t.__onetime_listener&&(t=t.__onetime_listener);for(var a=0,i=n.length;a<i;a++)this.removeListener.apply(this,[n[a],t]);return t&&"function"==typeof t.__onetime_listener&&delete t.__onetime_listener,this},removeListener:function(e,t){var n=this.getListeners(e);if(void 0!==n)for(var a=0,i=n.length;a<i;a++)if(n[a]===t||n[a].__original__===t){n.splice(a,1);break}return this},destroy:function(){this.listeners=null}})}(this);var templates={};templates["answer-company-stock"]='<span class="txt_exact">\n    <span class="tit" data-bind="text: (\' \' + name + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: price,\n        \tcss: priceColor"></span>\n        <span class="screen_out" data-bind="text: statusText"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \ttext: changeValue,\n        \tcss: changePrice"></span>\n        \x3c!-- ko if: changeRatio --\x3e\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + changeRatio)"></span>\n        \x3c!-- /ko --\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text: date"></span>',templates["answer-exchange"]='<span class="txt_exact">\n    <span class="tit" data-bind="text: (country + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: base_rate,\n        \tcss: priceColor"></span>\n        <span class="txt_num4" data-bind="css: priceColor"> (KRW)</span>\n    \x3c!--ko if: exchangeRatio --\x3e\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: exchangeRatio.status,\n        \ttext: exchangeRatio.prev"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: exchangeRatio.priceColor,\n        \ttext: (\' \' + exchangeRatio.ratio + \'%\')"></span>\n    \x3c!--/ko--\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text:(date_time + \' KEB\')"></span>',templates["answer-korea-weather"]='<span class="weather_comp">\n<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: areaname"></span>\n    <span class="cont"><span class="txt_cont" data-bind="text: wtext5s"></span> <span class="txt_num1 ico_suggest2 ico_celsius" data-bind="text: temp"></span><span class="screen_out"></span></span>\n</span>\n<span class="txt_time" data-bind="text: (announce + \' \') "></span>\n</span>',templates["answer-lotto"]='<span class="txt_exact">\n    <span class="tit screen_out"></span>\n    <span class="cont">\n        <span class="ico_lotto" data-bind="css: numClass1"><span class="txt_num" data-bind="text: num1"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass2"><span class="txt_num" data-bind="text: num2"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass3"><span class="txt_num" data-bind="text: num3"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass4"><span class="txt_num" data-bind="text: num4"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass5"><span class="txt_num" data-bind="text: num5"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass6"><span class="txt_num" data-bind="text: num6"></span></span>\n        <span class="ico_lotto plus"></span>\n        <span class="ico_lotto" data-bind="css: numClassBonus"><span class="txt_num" data-bind="text: bonus"></span></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="\n'+"    text: (seq + ' (' + year + '.' + month + '.' + day + ')')\"></span>",templates["answer-stock"]='<span class="txt_exact">\n    <span class="tit screen_out" data-bind="text: name + \' \'"></span>\n    <span class="tit" data-bind="text: name"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \tcss: priceColor,\n        \ttext: price"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: status,\n        \ttext: price_change"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + price_change_rate + \'%\')"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="html: date"></span>',templates["answer-world-weather"]='<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: (country + \' \' + city)"></span>\n    <span class="cont">\n        <span class="txt_cont" data-bind="text: wtext"></span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_blue" data-bind="text: mintemp"></span><span class="screen_out"></span>\n        <span class="bar"> / </span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_red" data-bind="text: maxtemp"></span><span class="screen_out"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="text: (ddate + \', \')"></span>',templates["recent-footer"]='<div class="fr">\n    \x3c!-- ko if: recentList.enableRecent --\x3e\n    <a href="#" class="deleteRecent" data-bind="\n    \tclick: function () {\n    \t\trecentList.removeRecentData();\n    \t\trecentList.hide();\n    \t}"> </a>\n    <span class="bar" style="display: inline;"> | </span>\n    \x3c!-- /ko --\x3e\n    <a href="#" class="toggleRecent" data-bind="\n    \tclick: recentList.toggle.bind(recentList),\n    \ttext: recentList.toggleBtn"></a>\n</div>',templates["recent-layer"]='\x3c!-- ko if: options.isReverse --\x3e\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko ifnot: options.isReverse --\x3e\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n\x3c!-- /ko --\x3e',templates["recent-list"]='\x3c!-- ko if: $root.recentList.lists()[0] --\x3e\n<ul data-bind="foreach: $root.recentList.lists()[0].items">\n    <li data-bind="\n    \tclick: function() {\n    \t\t$root.keywordInput.setSelectedQuery($data.item);\n    \t\t$root.forceFormSubmit();\n    \t},\n    \tevent: {\n    \t\tmouseover: function () {\n    \t\t\t$root.recentList.mouseOverItem($data);\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { on: isActivated() }">\n        <a href="#" class="item bg" data-bind="text: item"></a>\n    </li>\n</ul>\n\x3c!-- /ko --\x3e\n',templates["suggest-answer"]='\x3c!-- ko if: $data.item --\x3e\n<div class="answer">\n    <a href="#" class="suggest_exact b_line" data-bind="\n    \tcomponent: {\n    \t\tname: $data.whichTemplateToUse,\n\t\t\tparams: $data.item\n\t\t},\n\t\tclick: function() {\n\t\t\t$root.keywordInput.setSelectedQuery($data.item().querySource);\n\t\t\t$root.forceFormSubmit();\n\t\t},\n\t\tevent: {\n\t\t\tmouseover: function () {\n\t\t\t\t$root.suggestList.mouseOverItem($data.item());\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { e_on: $data.item().isActivated }"></a>\n</div>\n\x3c!-- /ko --\x3e\n',templates["suggest-container"]='<div class="baseBox bg" data-bind="\n\tvisible: (suggestList.length() > 0 && suggestList.visible) || suggestList.enableAnswerLayer,\n\ttemplate: { name: \'suggest-layer\' }"></div>\n\x3c!-- ko if: options.enableRecentList --\x3e\n<div class="baseBox recent" data-bind="\n\tvisible: (recentList.length() > 0 && recentList.visible),\n\ttemplate: { name: \'recent-layer\' }"></div>\n\x3c!-- /ko --\x3e\n',templates["suggest-footer"]='<div class="fr">\n    <a href="http://cs.daum.net/faq/15/14957.html#28978" class="isSuggest" target="_blank">?</a>\n</div>',templates["suggest-layer"]='\x3c!-- ko if: options.isReverse --\x3e\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: options.isReverse --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n',templates["suggest-list"]='<div class="list">\n    <h3 class="screen_out">  </h3>\n    <ul data-bind="foreach: $data.items">\n        <li data-bind="\n        \tclick: function() {\n        \t\t$root.keywordInput.setSelectedQuery($data.q);\n        \t\t$root.forceFormSubmit();\n        \t},\n        \tevent: {\n        \t\tmouseover: function () {\n        \t\t\t$root.suggestList.mouseOverItem($data);\n    \t\t\t}\n\t\t\t},\n\t\t\tmouseoverBubble: false,\n\t\t\tcss: { on: isActivated() }">\n            <a href="#" class="item bg" data-bind="html: highlight()"></a>\n        </li>\n    </ul>\n</div>\n',window.suggest_templates=templates,function(){"use strict";function e(e){var t=e.split("."),n=t[0],a=t[1],i=[],s=1;if(n.length<4)return e;for(var o=n.length-1;o>=0;o--)i.push(n.charAt(o)),o>0&&s%3==0&&i.push(","),s++;return i.reverse(),a&&a.length>0&&i.push("."+a),i.join("")}function t(e,a,i){var s=n(e)||{};for(var o in a){var r=a[o],c="object"==typeof r&&1===r.nodeType;c?s[o]=a[o]:a.hasOwnProperty(o)&&(s[o]&&!i||(s[o]="object"==typeof a[o]?t(s[o],a[o],!0):a[o]))}return s}function n(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var a=0,i=e.length;a<i;a++)t[a]=n(e[a]);return t}if(e instanceof Object){t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=n(e[s]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")}function a(e,n){ko.components.register(e,t(n,{template:i(e),synchronous:!0},!1))}function i(e){return document.getElementById(e+"-template")?{element:e+"-template"}:suggest_templates[e]}function s(){ko.templateSources.stringTemplate=function(e,t){this.templateName=e,this.templates=t},ko.utils.extend(ko.templateSources.stringTemplate.prototype,{data:function(e,t){if(this.templates._data=this.templates._data||{},this.templates._data[this.templateName]=this.templates._data[this.templateName]||{},1===arguments.length)return this.templates._data[this.templateName][e];this.templates._data[this.templateName][e]=t},text:function(e){if(0===arguments.length&&this.templates[this.templateName])return this.templates[this.templateName];this.templates[this.templateName]=e}}),ko.setTemplateEngine(function(e,t){return e.makeTemplateSource=function(e,n){var a=document.getElementById(e+"-template");return a?new ko.templateSources.domElement(a):new ko.templateSources.stringTemplate(e,t)},e}(new ko.nativeTemplateEngine,suggest_templates))}function o(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}function r(e,t,n){if("04"!==e.collectionId){for(var a in e)if(e.hasOwnProperty(a)&&e[a]!==t[a]&&a!==n)return!1;return!0}}function c(e,t,n,a,i){return{isActivated:ko.observable(!1),type:"SUGGEST",item:e,highlight:function(){return b.get(this.item,t,n,e)},q:e,total:a,index:i}}function u(e,n,a,i){var s=[];e.length>100||JSONP({url:n.APIServer.host,data:t({q:e},n.APIServer.queries),success:function(o){s.push(new w(o,n)),n.AnswerAPIServer?JSONP({url:n.AnswerAPIServer,data:{q:e,top:0,sq:o.subkeys[0]},success:function(e){var o=null;e.success&&(i&&r(e.answer,i.answerData,"querySource")?((o=i.instance).item(t(o.item(),e.answer,!0)),o.item().isActivated(!1)):(i={},o=new _(e,n),i.answerData=e.answer,i.instance=o),n.isReverse?s.push(o):s.unshift(o)),a(s,i)}}):a(s)}})}function l(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'")}a("answer-company-stock",{viewModel:function(e){var t=parseInt(e.changeCode,10),n=e.changeValue,a=e.changeRatio,i="",s="",o=null,r=null;t<3?(o="up",i="+",s="txt_red2",r=t>1?"":""):t>3?(o="down",i="-",s="txt_blue2",r=t<5?"":""):(o="equal",r="",n=a,a=null),this.name=e.name,this.code=e.code,this.price=e.price,this.date=e.date,this.status=o,this.statusText=r,this.changeValue=n?n.replace(/[+-]/,""):n,this.changeRatio=a?i+a.replace(/[+-]/,""):a,this.priceColor=s,this.changePrice=s+" ico_arrow_"+o,this.querySource=e.querySource}}),a("answer-exchange",{viewModel:function(t){var n=t.prev,a="",i=null,s=t.exchangeAmount||t.base_rate;t.exchangeAmount||(n>0?(i="up",a="txt_red2"):n<0?(i="down",a="txt_blue2"):(i="equal",n=null)),this.country=t.country,this.code=t.code,this.base_rate=e(s),this.date_time=t.date_time,this.priceColor=a,this.exchangeRatio=null,this.querySource=t.querySource,null!==i&&(this.exchangeRatio={status:a+" ico_arrow_"+i,priceColor:a,prev:n>0?n:-n,ratio:t.ratio})}}),a("answer-korea-weather",{viewModel:function(e){this.icon40="ico_w0"+e.icon,this.areaname=e.areaname,this.wtext5s=e.description,this.temp=e.temperature,this.announce=e.announce,this.querySource=e.querySource}}),a("answer-lotto",{viewModel:function(e){this.num1=parseInt(e.num1,10),this.num2=parseInt(e.num2,10),this.num3=parseInt(e.num3,10),this.num4=parseInt(e.num4,10),this.num5=parseInt(e.num5,10),this.num6=parseInt(e.num6,10),this.bonus=parseInt(e.bonus,10),this.getNumClassByLotto=function(e){return e<=10?"num1":e<=20?"num10":e<=30?"num20":e<=40?"num30":"num40"},this.numClass1=this.getNumClassByLotto(e.num1),this.numClass2=this.getNumClassByLotto(e.num2),this.numClass3=this.getNumClassByLotto(e.num3),this.numClass4=this.getNumClassByLotto(e.num4),this.numClass5=this.getNumClassByLotto(e.num5),this.numClass6=this.getNumClassByLotto(e.num6),this.numClassBonus=this.getNumClassByLotto(e.bonus),this.seq=e.seq,this.year=e.year,this.month=e.month,this.day=e.day,this.querySource=e.querySource}});var d={LOTTO:1,EXCHANGE:2,WORLD_WEATHER:3,KOREA_WEATHER:8,STOCK:5,COMPANY_STOCK:6,EXCHANGE_CALC:7,FOREIGN_STOCK_CODES:["IXIC","DJI"]};a("answer-stock",{viewModel:function(t){var n="",a="",i="",s=null,o=t.price_change,r=t.code,c=d.FOREIGN_STOCK_CODES,u=!1,l=t.date;this.priceColor="",this.name="",this.querySource=t.querySource;for(var f=0,p=c.length;f!==p;f++)if(c[f]===r){a='<span class="txt_time_k">,</span> ',u=!0;break}u||("close"===t.status?(i=' <span class="txt_time_k"> </span>',l=l.split(" ")[0]):i=' <span class="txt_time_k"></span>'),o>0?(this.priceColor="txt_red2",s="up",n="+"):o<0?(this.priceColor="txt_blue2",s="down"):(s="equal",o=null),"KOSDAQ"===r?this.name="(KOSDAQ)":"KOSPI"===r?this.name="(KOSPI)":"IXIC"===r?this.name=" (IXIC)":"DJI"===r?this.name=" (DJI)":"FUTURE"===r?this.name="(FUTURE)":"KOSPI200"===r&&(this.name="200(KOSPI200)"),this.price=e(t.price),this.price_change=o.replace(/[+-]/,""),this.date=a+l+i,this.price_change_rate=n+t.price_change_rate,this.status=this.priceColor+" ico_arrow_"+s}}),a("answer-world-weather",{viewModel:function(e){this.icon40="ico_w"+e.icon40,this.country=e.country,this.city=e.city,this.wtext=e.wtext,this.mintemp=e.mintemp,this.maxtemp=e.maxtemp,this.ddate=e.ddate,this.querySource=e.querySource}});var f={autoFocus:"NORMAL",suggestLimit:20,recentLimit:10,searchURL:"http://search.daum.net/search",isReverse:!1,APIServer:{host:"//suggest.search.daum.net/sushi/pc/get",queries:{htype:"position"}},enableRecentList:!1,enableFooter:!1},p={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPSLOOK:20,NAK:21,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,SELECT:41,V:86,SQUARE:91,BASH:92,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MAC_COMMAND:224},h={};h["answer-company-stock"]='<span class="txt_exact">\n    <span class="tit" data-bind="text: (\' \' + name + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: price,\n        \tcss: priceColor"></span>\n        <span class="screen_out" data-bind="text: statusText"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \ttext: changeValue,\n        \tcss: changePrice"></span>\n        \x3c!-- ko if: changeRatio --\x3e\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + changeRatio)"></span>\n        \x3c!-- /ko --\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text: date"></span>',h["answer-exchange"]='<span class="txt_exact">\n    <span class="tit" data-bind="text: (country + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: base_rate,\n        \tcss: priceColor"></span>\n        <span class="txt_num4" data-bind="css: priceColor"> (KRW)</span>\n    \x3c!--ko if: exchangeRatio --\x3e\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: exchangeRatio.status,\n        \ttext: exchangeRatio.prev"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: exchangeRatio.priceColor,\n        \ttext: (\' \' + exchangeRatio.ratio + \'%\')"></span>\n    \x3c!--/ko--\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text:(date_time + \' KEB\')"></span>',h["answer-korea-weather"]='<span class="weather_comp">\n<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: areaname"></span>\n    <span class="cont"><span class="txt_cont" data-bind="text: wtext5s"></span> <span class="txt_num1 ico_suggest2 ico_celsius" data-bind="text: temp"></span><span class="screen_out"></span></span>\n</span>\n<span class="txt_time" data-bind="text: (announce + \' \') "></span>\n</span>',h["answer-lotto"]='<span class="txt_exact">\n    <span class="tit screen_out"></span>\n    <span class="cont">\n        <span class="ico_lotto" data-bind="css: numClass1"><span class="txt_num" data-bind="text: num1"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass2"><span class="txt_num" data-bind="text: num2"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass3"><span class="txt_num" data-bind="text: num3"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass4"><span class="txt_num" data-bind="text: num4"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass5"><span class="txt_num" data-bind="text: num5"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass6"><span class="txt_num" data-bind="text: num6"></span></span>\n        <span class="ico_lotto plus"></span>\n        <span class="ico_lotto" data-bind="css: numClassBonus"><span class="txt_num" data-bind="text: bonus"></span></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="\n'+"    text: (seq + ' (' + year + '.' + month + '.' + day + ')')\"></span>",h["answer-stock"]='<span class="txt_exact">\n    <span class="tit screen_out" data-bind="text: name + \' \'"></span>\n    <span class="tit" data-bind="text: name"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \tcss: priceColor,\n        \ttext: price"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: status,\n        \ttext: price_change"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + price_change_rate + \'%\')"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="html: date"></span>',h["answer-world-weather"]='<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: (country + \' \' + city)"></span>\n    <span class="cont">\n        <span class="txt_cont" data-bind="text: wtext"></span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_blue" data-bind="text: mintemp"></span><span class="screen_out"></span>\n        <span class="bar"> / </span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_red" data-bind="text: maxtemp"></span><span class="screen_out"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="text: (ddate + \', \')"></span>',h["recent-footer"]='<div class="fr">\n    \x3c!-- ko if: recentList.enableRecent --\x3e\n    <a href="#" class="deleteRecent" data-bind="\n    \tclick: function () {\n    \t\trecentList.removeRecentData();\n    \t\trecentList.hide();\n    \t}"> </a>\n    <span class="bar" style="display: inline;"> | </span>\n    \x3c!-- /ko --\x3e\n    <a href="#" class="toggleRecent" data-bind="\n    \tclick: recentList.toggle.bind(recentList),\n    \ttext: recentList.toggleBtn"></a>\n</div>',h["recent-layer"]='\x3c!-- ko if: options.isReverse --\x3e\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko ifnot: options.isReverse --\x3e\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n\x3c!-- /ko --\x3e',h["recent-list"]='\x3c!-- ko if: $root.recentList.lists()[0] --\x3e\n<ul data-bind="foreach: $root.recentList.lists()[0].items">\n    <li data-bind="\n    \tclick: function() {\n    \t\t$root.keywordInput.setSelectedQuery($data.item);\n    \t\t$root.forceFormSubmit();\n    \t},\n    \tevent: {\n    \t\tmouseover: function () {\n    \t\t\t$root.recentList.mouseOverItem($data);\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { on: isActivated() }">\n        <a href="#" class="item bg" data-bind="text: item"></a>\n    </li>\n</ul>\n\x3c!-- /ko --\x3e\n',h["suggest-answer"]='\x3c!-- ko if: $data.item --\x3e\n<div class="answer">\n    <a href="#" class="suggest_exact b_line" data-bind="\n    \tcomponent: {\n    \t\tname: $data.whichTemplateToUse,\n\t\t\tparams: $data.item\n\t\t},\n\t\tclick: function() {\n\t\t\t$root.keywordInput.setSelectedQuery($data.item().querySource);\n\t\t\t$root.forceFormSubmit();\n\t\t},\n\t\tevent: {\n\t\t\tmouseover: function () {\n\t\t\t\t$root.suggestList.mouseOverItem($data.item());\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { e_on: $data.item().isActivated }"></a>\n</div>\n\x3c!-- /ko --\x3e\n',h["suggest-container"]='<div class="baseBox bg" data-bind="\n\tvisible: (suggestList.length() > 0 && suggestList.visible) || suggestList.enableAnswerLayer,\n\ttemplate: { name: \'suggest-layer\' }"></div>\n\x3c!-- ko if: options.enableRecentList --\x3e\n<div class="baseBox recent" data-bind="\n\tvisible: (recentList.length() > 0 && recentList.visible),\n\ttemplate: { name: \'recent-layer\' }"></div>\n\x3c!-- /ko --\x3e\n',h["suggest-footer"]='<div class="fr">\n    <a href="http://cs.daum.net/faq/15/14957.html#28978" class="isSuggest" target="_blank">?</a>\n</div>',h["suggest-layer"]='\x3c!-- ko if: options.isReverse --\x3e\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: options.isReverse --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n',h["suggest-list"]='<div class="list">\n    <h3 class="screen_out">  </h3>\n    <ul data-bind="foreach: $data.items">\n        <li data-bind="\n        \tclick: function() {\n        \t\t$root.keywordInput.setSelectedQuery($data.q);\n        \t\t$root.forceFormSubmit();\n        \t},\n        \tevent: {\n        \t\tmouseover: function () {\n        \t\t\t$root.suggestList.mouseOverItem($data);\n    \t\t\t}\n\t\t\t},\n\t\t\tmouseoverBubble: false,\n\t\t\tcss: { on: isActivated() }">\n            <a href="#" class="item bg" data-bind="html: highlight()"></a>\n        </li>\n    </ul>\n</div>\n',window.suggest_templates=h;var m,g=Class.extend({init:function(e,t){var n=this,a=document.getElementById(e.inputEl),i=a.value||"";this.postbox=t,this.enableUpdateQuery=!0,this.searchQuery=ko.observable(i),this.defaultQuery=i,this.isSelected=ko.observable(!1),this.searchQuery.subscribe(function(e){n.enableUpdateQuery&&(n.defaultQuery=e,n.postbox.notifySubscribers(e,"suggestQuery"))}),this.postbox.subscribe(function(e){n.enableUpdateQuery=!1,e?n.searchQuery(e):n.searchQuery(n.defaultQuery),n.enableUpdateQuery=!0},n,"selectedIndex")},setSelectedQuery:function(e){this.enableUpdateQuery=!1,this.searchQuery(e)}}),b={get:function(e,t,n,a){function i(e){var t;return e&&(t=e.replace(/</gi,"&lt;"),t=t.replace(/>/gi,"&gt;")),t}a+=" ";var s,o,r,c,u=a.split("");for(s=0;s<n.length;s++)o=n[s][0],r=n[s][1]-1,u[o]="<strong>"+i(u[o]),c=u[r],o+1===r&&(c=i(c)),u[r]=c+"</strong>";return u.join("")}},v=0,y=0,x="",w=Class.extend({templateName:"suggest-list",init:function(e,t){if(this.options=t,this.items=ko.observableArray([]),this.length=ko.computed(function(){return this.items().length},this),e.tltm){var n=this.options.searchLayer.getElementsByTagName("fieldset")[0];if(n!==undefined&&!document.getElementById("tltm")){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name","tltm"),a.setAttribute("value",e.tltm),a.setAttribute("id","tltm"),n.appendChild(a)}}this._parse(e)},get:function(e){return this.items()[e]},_parse:function(e){var t=[],n=e.q,a=Math.min(e.subkeys.length,this.options.suggestLimit),i=n.replace(/^\s+|\s+$/g,"").length;v=i,x=n,y=a,m=e.subkeys;for(var s=0;s<a;s+=1){var o=e.subkeys[s],r=e.highlighted[s];t.push(c(o,n,r,a,s))}this.options.isReverse&&t.reverse(),this.items(t)}}),_=Class.extend({templateName:"suggest-answer",init:function(e,t){this.options=t,this.item=ko.observable(null),this.whichTemplateToUse=ko.observable(),this.length=ko.computed(function(){return null===this.item()?0:1},this),this._parse(e)},get:function(){return this.item()},_parse:function(e){if(!e.success||!e.answer)return this.item(null),!1;var t=e.answer,n=parseInt(t.collectionId,10);if(4!==n){switch(n){case d.KOREA_WEATHER:this.whichTemplateToUse("answer-korea-weather");break;case d.WORLD_WEATHER:this.whichTemplateToUse("answer-world-weather");break;case d.LOTTO:this.whichTemplateToUse("answer-lotto");break;case d.EXCHANGE:case d.EXCHANGE_CALC:this.whichTemplateToUse("answer-exchange");break;case d.STOCK:this.whichTemplateToUse("answer-stock");break;case d.COMPANY_STOCK:this.whichTemplateToUse("answer-company-stock")}t.type="ANSWER",t.isActivated=ko.observable(!1),this.item(t)}}}),k=Class.extend({init:function(e){this.isShiftOn=!1,this.suggestList=e},getBaseIndex:function(){return-1},onKeyDown:function(e,t){var n=t.keyCode,a=this.suggestList,i=a.activeIndex();switch(n){case p.UP:DOMEvent.preventDefault(t),a.visible()&&a.moveUp(i);break;case p.DOWN:DOMEvent.preventDefault(t),a.visible()?a.moveDown():a.show();break;case p.TAB:DOMEvent.preventDefault(t),a.visible()&&(this.isShiftOn?a.moveUp():a.moveDown());break;case p.ESC:a.cancel();break;case p.SHIFT:this.isShiftOn=!0}return!0},onKeyUp:function(e,t){var n=t.keyCode;n===p.SHIFT&&(this.isShiftOn=!1)},onBlur:function(){this.isShiftOn=!1}}),E=Class.extend({init:function(e,t){this.postbox=t,this.options=e,this.lists=ko.observableArray([]),this.listsByType={},this.keyboardDelegate=new k(this),this.activeIndex=ko.observable(this.getBaseIndex()),this.selectIndex=ko.observable(this.getBaseIndex()),this.visible=ko.observable(!1),this.cachedAnswerData=null,this.accessible=ko.observable(),this.length=ko.computed(function(){for(var e=0,t=this.lists(),n=0;n<t.length;n++){var a=t[n];e+=a.length()}return 0===e&&this.visible(!1),this.updateAccessiblity(e),e},this),this.setSubscribe()},addList:function(e,t){this.lists.push(t),this.listsByType[e]=t},setSubscribe:function(){var e=this;this.selectIndex.subscribe(function(t){e.postbox.notifySubscribers(e.getKeyword(t),"selectedIndex")}),this.activeIndex.subscribe(function(t){e.postbox.notifySubscribers(e.getItem(t),"activate")}),this.postbox.subscribe(function(t){e.update(t)},this,"suggestQuery")},getKeyword:function(e){var t=this.get(e);return t?t.q||t.querySource:""},getItem:function(e){var t=this.get(e);return t?{data:this.getKeyword(e),index:this.options.isReverse?this.length()-(e+1):e,type:t.type,total:t.total}:null},getItems:function(){for(var e=[],t=0;t<this.lists().length;t++)for(var n=this.lists()[t],a=0;a<n.length();a+=1)e.push(n.get(a));return e},hide:function(){this.visible(!1)},show:function(){this.visible(!0)},cancel:function(){this.hide(),this.inactivePrev(),this.resetIndex()},getBaseIndex:function(){return this.keyboardDelegate?this.keyboardDelegate.getBaseIndex():-1},onKeyUp:function(e,t){return this.keyboardDelegate.onKeyUp(e,t)},onKeyDown:function(e,t){return this.keyboardDelegate.onKeyDown(e,t)},onBlur:function(){return this.keyboardDelegate.onBlur()},moveUp:function(){var e=this.activeIndex()-1;e<0?(this.cancel(),this.options.isReverse&&this.moveFocus()):this.select(e)},moveDown:function(){var e=this.activeIndex()+1;e>=this.length()?(this.cancel(),this.options.isReverse||this.moveFocus()):this.select(e)},moveFocus:function(){if(this.options.searchButtonEl){var e=document.getElementById(this.options.searchButtonEl);e.focus()}},select:function(e){this.inactivePrev(),this.activeIndex(e),this.selectIndex(e);var t=this.get(e);t&&t.isActivated(!0)},mouseOverItem:function(e){this.inactivePrev(),this.activateItem(e)},activateItem:function(e){var t=this.indexOf(e);e.isActivated(!0),this.activeIndex(t)},inactivePrev:function(){var e=this.activeIndex(),t=this.get(e);t&&t.isActivated(!1)},get:function(e){if(e>-1)for(var t=0;t<this.lists().length;t++){var n=this.lists()[t];if(n.length()>e)return n.get(e);e-=n.length()}return undefined},indexOf:function(e){for(var t=0,n=0;n<this.lists().length;n+=1)for(var a=this.lists()[n],i=0;i<a.length();i+=1){if(e===a.get(i))return t;t+=1}return-1},update:function(e,t){if(!e.replace(/ /g,""))return this.cancel(),void this.lists([]);var n=this,a=this.options.queryDelegate||u;a(e,this.options,function(e,a){t&&t(),a&&(n.cachedAnswerData=a),n.lists(e),n.resetIndex()},this.cachedAnswerData),this.show()},resetIndex:function(){this.activeIndex(this.getBaseIndex()),this.selectIndex(this.getBaseIndex())},updateAccessiblity:function(e){this.accessible(""),e>0&&this.accessible(e+"   . /   ")}}),C={on:"",off:" "},S={GET:"get",REMOVE:"remove_all"},T=E.extend({init:function(e,t){this._super(e,t),this.toggleBtn=ko.observable(),this.enableRecent=ko.observable(!1),this.getRecentData()},setSubscribe:function(){this._super(),this.options.enableRecentList&&this.postbox.subscribe(function(e){var t=document.getElementById(this.options.inputEl).value;""===e&&t===e?this.show():this.hide()},this,"suggestQuery")},removeRecentData:function(){this.request(S.REMOVE)},toggle:function(){this.enableRecent()?(this.enableRecent(!1),this.toggleBtn(C.off),Cookies.set("suggest_recent","off",{expires:31536e3})):(this.enableRecent(!0),this.toggleBtn(C.on),Cookies.set("suggest_recent","on",{expires:31536e3}))},getRecentData:function(){if(this.options.enableRecentList){var e=this,t=Cookies.get("suggest_recent")||"on";this.enableRecent("on"===t),this.toggleBtn(C[t]),this.request(S.GET,function(t){e.lists([new D(t,e.options)])})}},update:function(){},request:function(e,t){var n=this;JSONP({url:n.options.recentAPIServer.host+e+".js",data:n.options.recentAPIServer.queries||{},success:function(a){if(e===S.GET)a.myKeywordHistories&&a.myKeywordHistories.length>0&&t&&t(a.myKeywordHistories);else if(e===S.REMOVE){if(!a.processResult||"true"!==a.processResult.isSuccess)throw alert("    ."),"fail remove recent data";n.lists([])}},callbackName:"function"})}}),D=Class.extend({init:function(e,t){this.options=t,this.items=ko.observableArray([]),this.length=ko.computed(function(){return this.items().length},this),this._parseData(e)},get:function(e){return this.items()[e]},_parseData:function(e){for(var t=[],n=[],a=e.length>this.options.recentLimit?this.options.recentLimit:e.length,i=0;i!==a;i++){var s=e[i].kword;if(t.indexOf(s)<0){t.push(s);var o=c(l(s));o.type="RECENT",n.push(o)}}this.items(n)}}),I=Class.extend({init:function(e){this.isShiftOn=!1,this.suggestList=e},getBaseIndex:function(){return this.suggestList.length()},onKeyDown:function(e,t){var n=t.keyCode,a=this.suggestList;a.activeIndex();switch(n){case p.UP:DOMEvent.preventDefault(t),a.visible()?a.moveUp():a.show();break;case p.DOWN:DOMEvent.preventDefault(t),a.visible()&&a.moveDown();break;case p.TAB:DOMEvent.preventDefault(t),a.visible()&&(this.isShiftOn?a.moveDown():a.moveUp());break;case p.ESC:a.cancel();break;case p.SHIFT:this.isShiftOn=!0}return!0},onKeyUp:function(e,t){var n=t.keyCode;n===p.SHIFT&&(this.isShiftOn=!1)},onBlur:function(){this.isShiftOn=!1}}),N=Class.extend({init:function(e,n){var a=new ko.subscribable,i=this;this.parent=n,this.el=e,this.options=t(n.options,{searchLayer:e}),this.keywordInput=new g(this.options,a),this.suggestList=this.createSuggestList(this.options,a),this.recentList=this.createRecentList(this.options,a),this.activeItem=null,this.timeId=null,this.bindEvent(),a.subscribe(function(e){i.setActiveItem(e)},this,"activate")},createSuggestList:function(e,t){var n;n=E;var a=new n(e,t);return e.isReverse&&(a.keyboardDelegate=new I(a)),a},createRecentList:function(e,t){var n=new T(e,t);return e.isReverse&&(n.keyboardDelegate=new I(n)),n},bindEvent:function(){var e=this;DOMEvent.on(document,"click",this._cancelOnClickDocument.bind(this)),DOMEvent.on(document,"keydown",this._setFocusOnKeydownDocument.bind(this)),DOMEvent.on(window,"load",function(){"LOAD"===e.options.autoFocus&&e.setFocus()}),DOMEvent.on(document,"keyup",function(t){e._isModifierKey(t.keyCode)&&(e.pressedModifierKey=!1)}),DOMEvent.on(document.getElementById(this.options.inputEl),"mousedown",function(){e.toggleLayer()})},_cancelOnClickDocument:function(e){var t=DOMEvent.getTarget(e);o(this.el,t)||this.cancel()},_setFocusOnKeydownDocument:function(e){if(this._shouldNotFocusWhenKeydown(e))return!0;this._isModifierKey(e.keyCode)&&this.pressedModifierKey||e.altKey||e.ctrlKey||e.metaKey||(this.keywordInput.searchQuery(""),this.setFocus())},_shouldNotFocusWhenKeydown:function(e){var t=DOMEvent.getTarget(e),n=t.nodeName,a=e.keyCode;return"WRITE"!==this.options.autoFocus||this._isInputTypeNodeName(n)||this._isModifierKey(a)},_isInputTypeNodeName:function(e){return"INPUT"===e||"SELECT"===e||"TEXTAREA"===e},_isModifierKey:function(e){for(var t in p)if(p.hasOwnProperty(t)&&p[t]===e)return this.pressedModifierKey=!0,!0;return!1},setFocus:function(){this.keywordInput.isSelected(!0)},forceFormSubmit:function(){this.parent.emit("click-item"),this.hide()},setActiveItem:function(e){this.activeItem=e,this.parent.emit("activate-item",e)},getActiveItem:function(){return this.activeItem},hide:function(){this.suggestList.hide(),this.recentList.hide()},cancel:function(){this.suggestList.cancel(),this.recentList.cancel()},onKeyDown:function(e,t){if(t.keyCode===p.TAB&&(this.parent.emit("pressed-tab-key",t),!this.recentList.visible()&&!this.suggestList.visible()))return!0;t.keyCode===p.ENTER&&(null!==this.getActiveItem()&&this.parent.emit("click-item"),this.keywordInput.defaultQuery=this.keywordInput.searchQuery(),this.hide());var n=this.getActiveList();return n.onKeyDown(e,t)},onKeyUp:function(e,t){var n=this.getActiveList();return n.onKeyUp(e,t)},onBlur:function(e,t){var n=this.getActiveList();return clearInterval(this.timeId),n.onBlur(e,t)},onFocus:function(e,t){var n=this,a=document.getElementById(n.options.inputEl);this.timeId=window.setInterval(function(){n.keywordInput.searchQuery(a.value)},100)},getActiveList:function(){return this.recentList.visible()||!this.keywordInput.searchQuery()?this.recentList:this.suggestList},showLayer:function(e){e?(this.suggestList.update(e),this.suggestList.show()):this.options.enableRecentList&&this.recentList.show()},setAPIServer:function(e){var t=this;this.suggestList.options.APIServer=e,this.suggestList.update(this.keywordInput.searchQuery(),function(){t.setFocus(),t.suggestList.show()})},toggleLayer:function(){this.recentList.visible()||this.suggestList.visible()?this.cancel():this.showLayer(this.keywordInput.searchQuery())}}),A=Observer.extend({init:function(e,t){this._checkChromeAutoCompleteAttr(),this.options=this._overrideDefaultOptions(t),this._prepareKnockout(),this.viewModel=new N(e,this),ko.applyBindings(this.viewModel,e)},_checkChromeAutoCompleteAttr:function(){var e=navigator.userAgent.toLowerCase();if(-1!==e.indexOf("chrome")){var t=document.getElementsByClassName("tf_keyword")[0];"off"!==t.getAttribute("autocomplete")&&t.setAttribute("autocomplete","off")}},_overrideDefaultOptions:function(e){return t(f,e,!0)},_prepareKnockout:function(){var e=document.getElementById(this.options.inputEl),t=document.getElementById(this.options.suggestBoxEl);if(e&&t){e.setAttribute("data-bind","value: keywordInput.searchQuery, hasFocus: keywordInput.isSelected, event: { keydown: onKeyDown, keyup: onKeyUp, focus: onFocus, blur: onBlur }");var n=e.parentNode,a=document.createElement("span");n.insertBefore(a,e.nextSibling),a.setAttribute("aria-live","polite"),a.setAttribute("data-bind","text: suggestList.accessible, attr: { 'aria-live': 'polite'}, css: 'screen_out'"),t.setAttribute("data-bind",'template: { name: "suggest-container" }')}s()},getSuggestions:function(){return this.viewModel.suggestList.getItems()},isVisibleLayer:function(){return this.viewModel.recentList.visible()||this.viewModel.suggestList.visible()},setAPIServer:function(e){this.viewModel.setAPIServer(e)},getActiveItem:function(){return this.viewModel.getActiveItem()},getUserEnteredQuery:function(){return this.viewModel.keywordInput.defaultQuery},setQuery:function(e){this.viewModel.keywordInput.searchQuery(e)},EVENT_CLICK_ITEM:"click-item",EVENT_PRESS_TAB_KEY:"pressed-tab-key",EVENT_ACTIVATE_ITEM:"activate-item"});window.suggest={Suggest:A}}.call(this),function(e){"use strict";"undefined"!=typeof e.suggest&&(e.suggest.version="1.2.14")}(window);